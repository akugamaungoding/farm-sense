import{c as Ue,j as n,C as ue,u as Ye,a as k,B as F,S as Te,b as ke,T as K,d as U,O as Xe,M as se,e as ze}from"./three-D9nKLQKA.js";import{r as y,b as Ze,R as Je}from"./vendor-DWvC8KHc.js";import{m as _,A as M}from"./ui-BqzgJEUy.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y(){return Y=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Y.apply(this,arguments)}var L;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(L||(L={}));const xe="popstate";function Ke(r){r===void 0&&(r={});function s(i,o){let{pathname:c,search:u,hash:g}=i.location;return ce("",{pathname:c,search:u,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Ee(o)}return tt(s,t,null,r)}function N(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function Ce(r,s){if(!r){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function et(){return Math.random().toString(36).substr(2,8)}function ge(r,s){return{usr:r.state,key:r.key,idx:s}}function ce(r,s,t,i){return t===void 0&&(t=null),Y({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof s=="string"?V(s):s,{state:t,key:s&&s.key||i||et()})}function Ee(r){let{pathname:s="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function V(r){let s={};if(r){let t=r.indexOf("#");t>=0&&(s.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(s.search=r.substr(i),r=r.substr(0,i)),r&&(s.pathname=r)}return s}function tt(r,s,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,g=L.Pop,p=null,x=v();x==null&&(x=0,u.replaceState(Y({},u.state,{idx:x}),""));function v(){return(u.state||{idx:null}).idx}function e(){g=L.Pop;let f=v(),m=f==null?null:f-x;x=f,p&&p({action:g,location:h.location,delta:m})}function a(f,m){g=L.Push;let b=ce(h.location,f,m);x=v()+1;let w=ge(b,x),j=h.createHref(b);try{u.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(j)}c&&p&&p({action:g,location:h.location,delta:1})}function l(f,m){g=L.Replace;let b=ce(h.location,f,m);x=v();let w=ge(b,x),j=h.createHref(b);u.replaceState(w,"",j),c&&p&&p({action:g,location:h.location,delta:0})}function d(f){let m=o.location.origin!=="null"?o.location.origin:o.location.href,b=typeof f=="string"?f:Ee(f);return b=b.replace(/ $/,"%20"),N(m,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,m)}let h={get action(){return g},get location(){return r(o,u)},listen(f){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xe,e),p=f,()=>{o.removeEventListener(xe,e),p=null}},createHref(f){return s(o,f)},createURL:d,encodeLocation(f){let m=d(f);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:a,replace:l,go(f){return u.go(f)}};return h}var ye;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ye||(ye={}));function nt(r,s,t){return t===void 0&&(t="/"),at(r,s,t)}function at(r,s,t,i){let o=typeof s=="string"?V(s):s,c=Me(o.pathname||"/",t);if(c==null)return null;let u=Pe(r);rt(u);let g=null;for(let p=0;g==null&&p<u.length;++p){let x=xt(c);g=pt(u[p],x)}return g}function Pe(r,s,t,i){s===void 0&&(s=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(c,u,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};p.relativePath.startsWith("/")&&(N(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let x=H([i,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(N(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Pe(c.children,s,v,x)),!(c.path==null&&!c.index)&&s.push({path:x,score:ut(x,c.index),routesMeta:v})};return r.forEach((c,u)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,u);else for(let p of Ie(c.path))o(c,u,p)}),s}function Ie(r){let s=r.split("/");if(s.length===0)return[];let[t,...i]=s,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=Ie(i.join("/")),g=[];return g.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...u),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function rt(r){r.sort((s,t)=>s.score!==t.score?t.score-s.score:ft(s.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const it=/^:[\w-]+$/,st=3,ot=2,lt=1,ct=10,dt=-2,_e=r=>r==="*";function ut(r,s){let t=r.split("/"),i=t.length;return t.some(_e)&&(i+=dt),s&&(i+=ot),t.filter(o=>!_e(o)).reduce((o,c)=>o+(it.test(c)?st:c===""?lt:ct),i)}function ft(r,s){return r.length===s.length&&r.slice(0,-1).every((i,o)=>i===s[o])?r[r.length-1]-s[s.length-1]:0}function pt(r,s,t){let{routesMeta:i}=r,o={},c="/",u=[];for(let g=0;g<i.length;++g){let p=i[g],x=g===i.length-1,v=c==="/"?s:s.slice(c.length)||"/",e=mt({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},v),a=p.route;if(!e)return null;Object.assign(o,e.params),u.push({params:o,pathname:H([c,e.pathname]),pathnameBase:wt(H([c,e.pathnameBase])),route:a}),e.pathnameBase!=="/"&&(c=H([c,e.pathnameBase]))}return u}function mt(r,s){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=ht(r.path,r.caseSensitive,r.end),o=s.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:i.reduce((x,v,e)=>{let{paramName:a,isOptional:l}=v;if(a==="*"){let h=g[e]||"";u=c.slice(0,c.length-h.length).replace(/(.)\/+$/,"$1")}const d=g[e];return l&&!d?x[a]=void 0:x[a]=(d||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:u,pattern:r}}function ht(r,s,t){s===void 0&&(s=!1),t===void 0&&(t=!0),Ce(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,g,p)=>(i.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),i]}function xt(r){try{return r.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Ce(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),r}}function Me(r,s){if(s==="/")return r;if(!r.toLowerCase().startsWith(s.toLowerCase()))return null;let t=s.endsWith("/")?s.length-1:s.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function gt(r,s){s===void 0&&(s="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?V(r):r;return{pathname:t?t.startsWith("/")?t:yt(t,s):s,search:jt(i),hash:At(o)}}function yt(r,s){let t=s.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function oe(r,s,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _t(r){return r.filter((s,t)=>t===0||s.route.path&&s.route.path.length>0)}function vt(r,s){let t=_t(r);return s?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function bt(r,s,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=V(r):(o=Y({},r),N(!o.pathname||!o.pathname.includes("?"),oe("?","pathname","search",o)),N(!o.pathname||!o.pathname.includes("#"),oe("#","pathname","hash",o)),N(!o.search||!o.search.includes("#"),oe("#","search","hash",o)));let c=r===""||o.pathname==="",u=c?"/":o.pathname,g;if(u==null)g=t;else{let e=s.length-1;if(!i&&u.startsWith("..")){let a=u.split("/");for(;a[0]==="..";)a.shift(),e-=1;o.pathname=a.join("/")}g=e>=0?s[e]:"/"}let p=gt(o,g),x=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(x||v)&&(p.pathname+="/"),p}const H=r=>r.join("/").replace(/\/\/+/g,"/"),wt=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jt=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,At=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Nt(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Fe=["post","put","patch","delete"];new Set(Fe);const St=["get",...Fe];new Set(St);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X(){return X=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},X.apply(this,arguments)}const fe=y.createContext(null),Tt=y.createContext(null),ee=y.createContext(null),te=y.createContext(null),q=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Re=y.createContext(null);function ne(){return y.useContext(te)!=null}function Oe(){return ne()||N(!1),y.useContext(te).location}function Le(r){y.useContext(ee).static||y.useLayoutEffect(r)}function pe(){let{isDataRoute:r}=y.useContext(q);return r?Ht():kt()}function kt(){ne()||N(!1);let r=y.useContext(fe),{basename:s,future:t,navigator:i}=y.useContext(ee),{matches:o}=y.useContext(q),{pathname:c}=Oe(),u=JSON.stringify(vt(o,t.v7_relativeSplatPath)),g=y.useRef(!1);return Le(()=>{g.current=!0}),y.useCallback(function(x,v){if(v===void 0&&(v={}),!g.current)return;if(typeof x=="number"){i.go(x);return}let e=bt(x,JSON.parse(u),c,v.relative==="path");r==null&&s!=="/"&&(e.pathname=e.pathname==="/"?s:H([s,e.pathname])),(v.replace?i.replace:i.push)(e,v.state,v)},[s,i,u,c,r])}function Ct(r,s){return Et(r,s)}function Et(r,s,t,i){ne()||N(!1);let{navigator:o}=y.useContext(ee),{matches:c}=y.useContext(q),u=c[c.length-1],g=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let x=Oe(),v;if(s){var e;let f=typeof s=="string"?V(s):s;p==="/"||(e=f.pathname)!=null&&e.startsWith(p)||N(!1),v=f}else v=x;let a=v.pathname||"/",l=a;if(p!=="/"){let f=p.replace(/^\//,"").split("/");l="/"+a.replace(/^\//,"").split("/").slice(f.length).join("/")}let d=nt(r,{pathname:l}),h=Rt(d&&d.map(f=>Object.assign({},f,{params:Object.assign({},g,f.params),pathname:H([p,o.encodeLocation?o.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?p:H([p,o.encodeLocation?o.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),c,t,i);return s&&h?y.createElement(te.Provider,{value:{location:X({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:L.Pop}},h):h}function Pt(){let r=Bt(),s=Nt(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},s),t?y.createElement("pre",{style:o},t):null,null)}const It=y.createElement(Pt,null);class Mt extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?y.createElement(q.Provider,{value:this.props.routeContext},y.createElement(Re.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ft(r){let{routeContext:s,match:t,children:i}=r,o=y.useContext(fe);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(q.Provider,{value:s},i)}function Rt(r,s,t,i){var o;if(s===void 0&&(s=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var c;if(!t)return null;if(t.errors)r=t.matches;else if((c=i)!=null&&c.v7_partialHydration&&s.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,g=(o=t)==null?void 0:o.errors;if(g!=null){let v=u.findIndex(e=>e.route.id&&(g==null?void 0:g[e.route.id])!==void 0);v>=0||N(!1),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,x=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let e=u[v];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(x=v),e.route.id){let{loaderData:a,errors:l}=t,d=e.route.loader&&a[e.route.id]===void 0&&(!l||l[e.route.id]===void 0);if(e.route.lazy||d){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((v,e,a)=>{let l,d=!1,h=null,f=null;t&&(l=g&&e.route.id?g[e.route.id]:void 0,h=e.route.errorElement||It,p&&(x<0&&a===0?($t("route-fallback"),d=!0,f=null):x===a&&(d=!0,f=e.route.hydrateFallbackElement||null)));let m=s.concat(u.slice(0,a+1)),b=()=>{let w;return l?w=h:d?w=f:e.route.Component?w=y.createElement(e.route.Component,null):e.route.element?w=e.route.element:w=v,y.createElement(Ft,{match:e,routeContext:{outlet:v,matches:m,isDataRoute:t!=null},children:w})};return t&&(e.route.ErrorBoundary||e.route.errorElement||a===0)?y.createElement(Mt,{location:t.location,revalidation:t.revalidation,component:h,error:l,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):b()},null)}var De=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(De||{}),Be=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Be||{});function Ot(r){let s=y.useContext(fe);return s||N(!1),s}function Lt(r){let s=y.useContext(Tt);return s||N(!1),s}function Dt(r){let s=y.useContext(q);return s||N(!1),s}function He(r){let s=Dt(),t=s.matches[s.matches.length-1];return t.route.id||N(!1),t.route.id}function Bt(){var r;let s=y.useContext(Re),t=Lt(),i=He();return s!==void 0?s:(r=t.errors)==null?void 0:r[i]}function Ht(){let{router:r}=Ot(De.UseNavigateStable),s=He(Be.UseNavigateStable),t=y.useRef(!1);return Le(()=>{t.current=!0}),y.useCallback(function(o,c){c===void 0&&(c={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,X({fromRouteId:s},c)))},[r,s])}const ve={};function $t(r,s,t){ve[r]||(ve[r]=!0)}function Gt(r,s){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function J(r){N(!1)}function Vt(r){let{basename:s="/",children:t=null,location:i,navigationType:o=L.Pop,navigator:c,static:u=!1,future:g}=r;ne()&&N(!1);let p=s.replace(/^\/*/,"/"),x=y.useMemo(()=>({basename:p,navigator:c,static:u,future:X({v7_relativeSplatPath:!1},g)}),[p,g,c,u]);typeof i=="string"&&(i=V(i));let{pathname:v="/",search:e="",hash:a="",state:l=null,key:d="default"}=i,h=y.useMemo(()=>{let f=Me(v,p);return f==null?null:{location:{pathname:f,search:e,hash:a,state:l,key:d},navigationType:o}},[p,v,e,a,l,d,o]);return h==null?null:y.createElement(ee.Provider,{value:x},y.createElement(te.Provider,{children:t,value:h}))}function qt(r){let{children:s,location:t}=r;return Ct(de(s),t)}new Promise(()=>{});function de(r,s){s===void 0&&(s=[]);let t=[];return y.Children.forEach(r,(i,o)=>{if(!y.isValidElement(i))return;let c=[...s,o];if(i.type===y.Fragment){t.push.apply(t,de(i.props.children,c));return}i.type!==J&&N(!1),!i.props.index||!i.props.children||N(!1);let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=de(i.props.children,c)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Wt="6";try{window.__reactRouterVersion=Wt}catch{}const Qt="startTransition",be=Ze[Qt];function Ut(r){let{basename:s,children:t,future:i,window:o}=r,c=y.useRef();c.current==null&&(c.current=Ke({window:o,v5Compat:!0}));let u=c.current,[g,p]=y.useState({action:u.action,location:u.location}),{v7_startTransition:x}=i||{},v=y.useCallback(e=>{x&&be?be(()=>p(e)):p(e)},[p,x]);return y.useLayoutEffect(()=>u.listen(v),[u,v]),y.useEffect(()=>Gt(i),[i]),y.createElement(Vt,{basename:s,children:t,location:g.location,navigationType:g.action,navigator:u,future:i})}var we;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(we||(we={}));var je;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(je||(je={}));const me=Ue((r,s)=>({players:{player1:{name:"",ecoCoins:100,position:0,color:"#4CAF50"},player2:{name:"",ecoCoins:100,position:0,color:"#03A9F4"}},currentPlayer:"player1",gameStarted:!1,gameEnded:!1,turnCount:0,maxTurns:10,boardTiles:[],events:[],showEventPopup:!1,currentEvent:null,diceRoll:0,isRolling:!1,showQuestion:!1,currentQuestion:null,showChallenge:!1,currentChallenge:null,consecutiveCorrect:0,totalCorrectAnswers:0,totalQuestions:0,setPlayerNames:(t,i)=>r({players:{player1:{...s().players.player1,name:t},player2:{...s().players.player2,name:i}},gameStarted:!0}),rollDice:()=>{const t=Math.floor(Math.random()*6)+1;return r({diceRoll:t,isRolling:!0}),setTimeout(()=>{r({isRolling:!1})},1500),t},movePlayer:(t,i)=>{const o=s().players[t],c=(o.position+i)%12;return r({players:{...s().players,[t]:{...o,position:c}}}),c},updateEcoCoins:(t,i)=>{const o=s().players[t],c=Math.max(0,o.ecoCoins+i);r({players:{...s().players,[t]:{...o,ecoCoins:c}}})},nextTurn:()=>{const i=s().currentPlayer==="player1"?"player2":"player1",o=s().turnCount+1;r({currentPlayer:i,turnCount:o,gameEnded:o>=s().maxTurns*2})},showEvent:t=>r({showEventPopup:!0,currentEvent:t}),hideEvent:()=>r({showEventPopup:!1,currentEvent:null}),showQuestionCard:t=>r({showQuestion:!0,currentQuestion:t}),hideQuestion:()=>r({showQuestion:!1,currentQuestion:null}),showChallengeCard:t=>r({showChallenge:!0,currentChallenge:t}),hideChallenge:()=>r({showChallenge:!1,currentChallenge:null}),updateQuestionStats:t=>{const i=s(),o=i.totalQuestions+1,c=t?i.totalCorrectAnswers+1:i.totalCorrectAnswers,u=t?i.consecutiveCorrect+1:0;r({totalQuestions:o,totalCorrectAnswers:c,consecutiveCorrect:u})},resetGame:()=>r({players:{player1:{name:"",ecoCoins:100,position:0,color:"#4CAF50"},player2:{name:"",ecoCoins:100,position:0,color:"#03A9F4"}},currentPlayer:"player1",gameStarted:!1,gameEnded:!1,turnCount:0,showEventPopup:!1,currentEvent:null,diceRoll:0,isRolling:!1,showQuestion:!1,currentQuestion:null,showChallenge:!1,currentChallenge:null,consecutiveCorrect:0,totalCorrectAnswers:0,totalQuestions:0}),getWinner:()=>{const{player1:t,player2:i}=s().players;return t.ecoCoins>i.ecoCoins?"player1":i.ecoCoins>t.ecoCoins?"player2":"tie"}}));function Yt({position:r,isLaunching:s}){const t=y.useRef(),[i,o]=y.useState(!1);return k(c=>{t.current&&(t.current.rotation.y+=.003,t.current.rotation.x=Math.sin(c.clock.elapsedTime*.1)*.05,s?(t.current.position.y+=.1,t.current.scale.setScalar(1.2)):t.current.scale.setScalar(i?1.1:1))}),n.jsxs("group",{position:r,children:[n.jsx(ke,{ref:t,args:[1.5,16,16],onPointerOver:()=>o(!0),onPointerOut:()=>o(!1),children:n.jsx("meshStandardMaterial",{color:"#4A90E2",emissive:"#001122",emissiveIntensity:.2,roughness:.8,metalness:.2})}),n.jsx(K,{position:[0,0,1.6],fontSize:.3,color:"#00ff99",anchorX:"center",anchorY:"middle",children:"🌾"})]})}function le({position:r,speed:s=1}){const t=y.useRef();return k(i=>{t.current&&(t.current.rotation.y+=.01*s,t.current.position.y=r[1]+Math.sin(i.clock.elapsedTime*.3*s)*.2,t.current.position.x=r[0]+Math.sin(i.clock.elapsedTime*.2*s)*.1)}),n.jsxs("group",{ref:t,position:r,children:[n.jsx(F,{args:[.4,.3,.4],children:n.jsx("meshStandardMaterial",{color:"#E0E0E0",emissive:"#00ff99",emissiveIntensity:.3,roughness:.1,metalness:.9})}),n.jsx(F,{args:[1.2,.1,.6],position:[0,0,0],children:n.jsx("meshStandardMaterial",{color:"#263238"})}),n.jsx(U,{args:[.1,.4,4],position:[0,.35,0],children:n.jsx("meshStandardMaterial",{color:"#facc15"})})]})}function Xt({isLaunching:r}){const s=y.useRef();return k(t=>{s.current&&(r?(s.current.position.y+=.5,s.current.rotation.z=Math.sin(t.clock.elapsedTime*10)*.1):(s.current.rotation.y+=.005,s.current.position.y=Math.sin(t.clock.elapsedTime*.5)*.1))}),n.jsxs("group",{ref:s,position:r?[0,5,-8]:[3,2,-6],children:[n.jsx(U,{args:[.2,1.2,8],position:[0,.5,0],children:n.jsx("meshStandardMaterial",{color:"#FFD700",emissive:"#FFA500",emissiveIntensity:r?.8:.2})}),n.jsx(U,{args:[.1,.6,6],position:[0,1.2,0],children:n.jsx("meshStandardMaterial",{color:"#FF6B6B"})}),r&&n.jsx(U,{args:[.3,2,8],position:[0,-1,0],children:n.jsx("meshStandardMaterial",{color:"#FF4500",emissive:"#FF4500",emissiveIntensity:.5,transparent:!0,opacity:.7})})]})}function zt(){const r=y.useRef();return k(s=>{r.current&&(r.current.rotation.y+=2e-4)}),n.jsx("group",{ref:r,children:n.jsx(Te,{radius:400,depth:100,count:8e3,factor:8,saturation:0,fade:!0,speed:.5})})}function Zt({isLaunching:r,mousePosition:s}){const{camera:t}=Ye();return k(i=>{t.position.x=Math.sin(i.clock.elapsedTime*.1)*2,t.position.z=15+Math.sin(i.clock.elapsedTime*.05)*1,s&&(t.position.x+=(s.x-.5)*2,t.position.y+=(s.y-.5)*1)}),n.jsxs(n.Fragment,{children:[n.jsx("ambientLight",{intensity:.3,color:"#001122"}),n.jsx("directionalLight",{position:[10,10,5],intensity:1.5,color:"#00ff99",castShadow:!0}),n.jsx("pointLight",{position:[-10,10,-10],intensity:.8,color:"#38bdf8"}),n.jsx("pointLight",{position:[0,5,0],intensity:1.2,color:"#facc15"}),n.jsx("pointLight",{position:[5,-5,5],intensity:.6,color:"#ffffff"}),n.jsx(zt,{}),n.jsx(Yt,{position:[-6,0,-10],isLaunching:r}),n.jsx(Xt,{isLaunching:r}),n.jsx(le,{position:[4,3,-8],speed:1.2}),n.jsx(le,{position:[-2,2,-12],speed:.8}),n.jsx(le,{position:[6,1,-6],speed:1.5}),n.jsx(F,{args:[30,.1,30],position:[0,-1,0],children:n.jsx("meshStandardMaterial",{color:"#000814",emissive:"#000814",emissiveIntensity:.1})})]})}function Jt({isLaunching:r=!1}){const[s,t]=y.useState({x:.5,y:.5});return y.useEffect(()=>{const i=o=>{t({x:o.clientX/window.innerWidth,y:o.clientY/window.innerHeight})};return window.addEventListener("mousemove",i),()=>window.removeEventListener("mousemove",i)},[]),n.jsxs("div",{className:"position-fixed",style:{top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,background:"linear-gradient(180deg, #000814 0%, #001f3f 100%)",overflow:"hidden"},children:[n.jsx(ue,{camera:{position:[0,5,15],fov:75},style:{background:"transparent",width:"100%",height:"100%",display:"block"},children:n.jsx(Zt,{isLaunching:r,mousePosition:s})}),n.jsx("div",{className:"position-absolute",style:{top:0,left:0,width:"100%",height:"100%",opacity:.2,background:"radial-gradient(ellipse at center, transparent 0%, rgba(0, 255, 153, 0.1) 40%, rgba(56, 189, 248, 0.1) 100%)",pointerEvents:"none"}})]})}function Kt({onComplete:r}){const[s,t]=y.useState(0),[i,o]=y.useState(!0),c=[{title:"🌾 Selamat Datang di FARMPOLY 3D!",content:"Game edukasi tentang pertanian berkelanjutan menggunakan data NASA. Kamu akan belajar tentang monitoring pertanian dari luar angkasa!",icon:"🚀"},{title:"🎲 Cara Bermain",content:`1. Roll dice untuk mendapat angka
2. Jawab pertanyaan NASA dengan benar/salah
3. Jika benar: maju ke tile berikutnya
4. Jika salah: tetap di tile yang sama`,icon:"🎯"},{title:"🌍 NASA Events",content:`Setiap tile memiliki event pertanian berdasarkan data NASA seperti:
• Drought Detection (Kekeringan)
• Perfect Rainfall (Hujan Sempurna)
• Vegetation Boost (Pertumbuhan Tanaman)`,icon:"🛰️"},{title:"💰 Eco-Coins",content:`Dapatkan eco-coins dari:
• Menjawab pertanyaan dengan benar
• Event positif (hujan, panen, dll)
• Challenge bonuses

Kehilangan coins dari event negatif!`,icon:"💎"},{title:"🏆 Challenges & Streaks",content:`• Streak: Jawaban benar berturut-turut
• Challenge: Hadiah khusus untuk performa bagus
• Accuracy: Persentase jawaban benar

Semakin bagus performa, semakin banyak reward!`,icon:"⭐"},{title:"🎮 Tujuan Game",content:`• Belajar tentang pertanian berkelanjutan
• Memahami data NASA untuk pertanian
• Menjadi petani digital terbaik
• Raih eco-coins terbanyak dalam 10 turn!`,icon:"🏅"},{title:"🚀 Siap Memulai?",content:`Sekarang kamu sudah paham cara bermain!

Masukkan nama kedua player dan mulai petualangan pertanian luar angkasa!`,icon:"🌟"}],u=()=>{s<c.length-1?t(s+1):(o(!1),r())},g=()=>{s>0&&t(s-1)},p=()=>{o(!1),r()};if(!i)return null;const x=c[s],v=(s+1)/c.length*100;return n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0,0,0,0.8)",zIndex:9999},children:n.jsxs(_.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"card shadow-lg border-0",style:{maxWidth:"700px",width:"90%",background:"linear-gradient(135deg, rgba(0, 31, 63, 0.95) 0%, rgba(0, 18, 32, 0.95) 100%)",backdropFilter:"blur(20px)",border:"2px solid rgba(0, 255, 153, 0.3)"},children:[n.jsxs("div",{className:"card-header text-center py-4 border-0",style:{background:"rgba(0, 255, 153, 0.1)"},children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("span",{className:"text-white-50",children:"Tutorial"}),n.jsx("button",{onClick:p,className:"btn btn-sm btn-outline-light",style:{fontSize:"0.8rem"},children:"Skip Tutorial"})]}),n.jsx("div",{className:"progress mb-3",style:{height:"6px",background:"rgba(255,255,255,0.1)"},children:n.jsx(_.div,{className:"progress-bar",style:{background:"linear-gradient(90deg, #00ff99, #38bdf8)",boxShadow:"0 0 10px rgba(0, 255, 153, 0.5)"},initial:{width:0},animate:{width:`${v}%`},transition:{duration:.5}})}),n.jsxs("h3",{className:"text-white fw-bold mb-0",children:[n.jsx("span",{className:"me-3",style:{fontSize:"2rem"},children:x.icon}),x.title]}),n.jsxs("p",{className:"text-white-50 mb-0 mt-2",children:["Step ",s+1," of ",c.length]})]}),n.jsx("div",{className:"card-body p-5",children:n.jsx(M,{mode:"wait",children:n.jsx(_.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},style:{minHeight:"200px"},children:n.jsx("div",{className:"text-white",style:{whiteSpace:"pre-line",lineHeight:"1.6"},children:x.content})},s)})}),n.jsx("div",{className:"card-footer border-0 py-3",style:{background:"rgba(0, 255, 153, 0.05)"},children:n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("button",{onClick:g,disabled:s===0,className:`btn ${s===0?"btn-secondary":"btn-outline-primary"}`,children:[n.jsx("i",{className:"fas fa-arrow-left me-2"}),"Previous"]}),n.jsx("div",{className:"text-center",children:n.jsx("small",{className:"text-white-50",children:s===c.length-1?"Selesai!":"Lanjut ke step berikutnya"})}),n.jsx("button",{onClick:u,className:`btn ${s===c.length-1?"btn-success":"btn-primary"}`,children:s===c.length-1?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-rocket me-2"}),"Mulai Game!"]}):n.jsxs(n.Fragment,{children:["Next",n.jsx("i",{className:"fas fa-arrow-right ms-2"})]})})]})})]})})}var en={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(r){(function(){var s=function(){this.init()};s.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var a=this||t;if(e=parseFloat(e),a.ctx||v(),typeof e<"u"&&e>=0&&e<=1){if(a._volume=e,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var d=a._howls[l]._getSoundIds(),h=0;h<d.length;h++){var f=a._howls[l]._soundById(d[h]);f&&f._node&&(f._node.volume=f._volume*e)}return a}return a._volume},mute:function(e){var a=this||t;a.ctx||v(),a._muted=e,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e?0:a._volume,t.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var d=a._howls[l]._getSoundIds(),h=0;h<d.length;h++){var f=a._howls[l]._soundById(d[h]);f&&f._node&&(f._node.muted=e?!0:f._muted)}return a},stop:function(){for(var e=this||t,a=0;a<e._howls.length;a++)e._howls[a].stop();return e},unload:function(){for(var e=this||t,a=e._howls.length-1;a>=0;a--)e._howls[a].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,v()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var a=new Audio;a.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return e}if(!a||typeof a.canPlayType!="function")return e;var l=a.canPlayType("audio/mpeg;").replace(/^no$/,""),d=e._navigator?e._navigator.userAgent:"",h=d.match(/OPR\/(\d+)/g),f=h&&parseInt(h[0].split("/")[1],10)<33,m=d.indexOf("Safari")!==-1&&d.indexOf("Chrome")===-1,b=d.match(/Version\/(.*?) /),w=m&&b&&parseInt(b[1],10)<15;return e._codecs={mp3:!!(!f&&(l||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!l,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!w&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!w&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var a=function(l){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var d=new Audio;d._unlocked=!0,e._releaseHtml5Audio(d)}catch{e.noAudio=!0;break}for(var h=0;h<e._howls.length;h++)if(!e._howls[h]._webAudio)for(var f=e._howls[h]._getSoundIds(),m=0;m<f.length;m++){var b=e._howls[h]._soundById(f[m]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}e._autoResume();var w=e.ctx.createBufferSource();w.buffer=e._scratchBuffer,w.connect(e.ctx.destination),typeof w.start>"u"?w.noteOn(0):w.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),w.onended=function(){w.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var j=0;j<e._howls.length;j++)e._howls[j]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var a=this||t;return e._unlocked&&a._html5AudioPool.push(e),a},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!t.usingWebAudio)){for(var a=0;a<e._howls.length;a++)if(e._howls[a]._webAudio){for(var l=0;l<e._howls[a]._sounds.length;l++)if(!e._howls[a]._sounds[l]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var d=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(d,d)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!t.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var a=0;a<e._howls.length;a++)e._howls[a]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new s,i=function(e){var a=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(e)};i.prototype={init:function(e){var a=this;return t.ctx||v(),a._autoplay=e.autoplay||!1,a._format=typeof e.format!="string"?e.format:[e.format],a._html5=e.html5||!1,a._muted=e.mute||!1,a._loop=e.loop||!1,a._pool=e.pool||5,a._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,a._rate=e.rate||1,a._sprite=e.sprite||{},a._src=typeof e.src!="string"?e.src:[e.src],a._volume=e.volume!==void 0?e.volume:1,a._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=e.onend?[{fn:e.onend}]:[],a._onfade=e.onfade?[{fn:e.onfade}]:[],a._onload=e.onload?[{fn:e.onload}]:[],a._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],a._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],a._onpause=e.onpause?[{fn:e.onpause}]:[],a._onplay=e.onplay?[{fn:e.onplay}]:[],a._onstop=e.onstop?[{fn:e.onstop}]:[],a._onmute=e.onmute?[{fn:e.onmute}]:[],a._onvolume=e.onvolume?[{fn:e.onvolume}]:[],a._onrate=e.onrate?[{fn:e.onrate}]:[],a._onseek=e.onseek?[{fn:e.onseek}]:[],a._onunlock=e.onunlock?[{fn:e.onunlock}]:[],a._onresume=[],a._webAudio=t.usingWebAudio&&!a._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var e=this,a=null;if(t.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var l=0;l<e._src.length;l++){var d,h;if(e._format&&e._format[l])d=e._format[l];else{if(h=e._src[l],typeof h!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}d=/^data:audio\/([^;,]+);/i.exec(h),d||(d=/\.([^.]+)$/.exec(h.split("?",1)[0])),d&&(d=d[1].toLowerCase())}if(d||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),d&&t.codecs(d)){a=e._src[l];break}}if(!a){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=a,e._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&u(e),e},play:function(e,a){var l=this,d=null;if(typeof e=="number")d=e,e=null;else{if(typeof e=="string"&&l._state==="loaded"&&!l._sprite[e])return null;if(typeof e>"u"&&(e="__default",!l._playLock)){for(var h=0,f=0;f<l._sounds.length;f++)l._sounds[f]._paused&&!l._sounds[f]._ended&&(h++,d=l._sounds[f]._id);h===1?e=null:d=null}}var m=d?l._soundById(d):l._inactiveSound();if(!m)return null;if(d&&!e&&(e=m._sprite||"__default"),l._state!=="loaded"){m._sprite=e,m._ended=!1;var b=m._id;return l._queue.push({event:"play",action:function(){l.play(b)}}),b}if(d&&!m._paused)return a||l._loadQueue("play"),m._id;l._webAudio&&t._autoResume();var w=Math.max(0,m._seek>0?m._seek:l._sprite[e][0]/1e3),j=Math.max(0,(l._sprite[e][0]+l._sprite[e][1])/1e3-w),S=j*1e3/Math.abs(m._rate),C=l._sprite[e][0]/1e3,$=(l._sprite[e][0]+l._sprite[e][1])/1e3;m._sprite=e,m._ended=!1;var W=function(){m._paused=!1,m._seek=w,m._start=C,m._stop=$,m._loop=!!(m._loop||l._sprite[e][2])};if(w>=$){l._ended(m);return}var A=m._node;if(l._webAudio){var z=function(){l._playLock=!1,W(),l._refreshBuffer(m);var R=m._muted||l._muted?0:m._volume;A.gain.setValueAtTime(R,t.ctx.currentTime),m._playStart=t.ctx.currentTime,typeof A.bufferSource.start>"u"?m._loop?A.bufferSource.noteGrainOn(0,w,86400):A.bufferSource.noteGrainOn(0,w,j):m._loop?A.bufferSource.start(0,w,86400):A.bufferSource.start(0,w,j),S!==1/0&&(l._endTimers[m._id]=setTimeout(l._ended.bind(l,m),S)),a||setTimeout(function(){l._emit("play",m._id),l._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?z():(l._playLock=!0,l.once("resume",z),l._clearTimer(m._id))}else{var Z=function(){A.currentTime=w,A.muted=m._muted||l._muted||t._muted||A.muted,A.volume=m._volume*t.volume(),A.playbackRate=m._rate;try{var R=A.play();if(R&&typeof Promise<"u"&&(R instanceof Promise||typeof R.then=="function")?(l._playLock=!0,W(),R.then(function(){l._playLock=!1,A._unlocked=!0,a?l._loadQueue():l._emit("play",m._id)}).catch(function(){l._playLock=!1,l._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):a||(l._playLock=!1,W(),l._emit("play",m._id)),A.playbackRate=m._rate,A.paused){l._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||m._loop?l._endTimers[m._id]=setTimeout(l._ended.bind(l,m),S):(l._endTimers[m._id]=function(){l._ended(m),A.removeEventListener("ended",l._endTimers[m._id],!1)},A.addEventListener("ended",l._endTimers[m._id],!1))}catch(Q){l._emit("playerror",m._id,Q)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=l._src,A.load());var ae=window&&window.ejecta||!A.readyState&&t._navigator.isCocoonJS;if(A.readyState>=3||ae)Z();else{l._playLock=!0,l._state="loading";var re=function(){l._state="loaded",Z(),A.removeEventListener(t._canPlayEvent,re,!1)};A.addEventListener(t._canPlayEvent,re,!1),l._clearTimer(m._id)}}return m._id},pause:function(e){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(e)}}),a;for(var l=a._getSoundIds(e),d=0;d<l.length;d++){a._clearTimer(l[d]);var h=a._soundById(l[d]);if(h&&!h._paused&&(h._seek=a.seek(l[d]),h._rateSeek=0,h._paused=!0,a._stopFade(l[d]),h._node))if(a._webAudio){if(!h._node.bufferSource)continue;typeof h._node.bufferSource.stop>"u"?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0),a._cleanBuffer(h._node)}else(!isNaN(h._node.duration)||h._node.duration===1/0)&&h._node.pause();arguments[1]||a._emit("pause",h?h._id:null)}return a},stop:function(e,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(e)}}),l;for(var d=l._getSoundIds(e),h=0;h<d.length;h++){l._clearTimer(d[h]);var f=l._soundById(d[h]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,l._stopFade(d[h]),f._node&&(l._webAudio?f._node.bufferSource&&(typeof f._node.bufferSource.stop>"u"?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),l._cleanBuffer(f._node)):(!isNaN(f._node.duration)||f._node.duration===1/0)&&(f._node.currentTime=f._start||0,f._node.pause(),f._node.duration===1/0&&l._clearSound(f._node))),a||l._emit("stop",f._id))}return l},mute:function(e,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"mute",action:function(){l.mute(e,a)}}),l;if(typeof a>"u")if(typeof e=="boolean")l._muted=e;else return l._muted;for(var d=l._getSoundIds(a),h=0;h<d.length;h++){var f=l._soundById(d[h]);f&&(f._muted=e,f._interval&&l._stopFade(f._id),l._webAudio&&f._node?f._node.gain.setValueAtTime(e?0:f._volume,t.ctx.currentTime):f._node&&(f._node.muted=t._muted?!0:e),l._emit("mute",f._id))}return l},volume:function(){var e=this,a=arguments,l,d;if(a.length===0)return e._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var h=e._getSoundIds(),f=h.indexOf(a[0]);f>=0?d=parseInt(a[0],10):l=parseFloat(a[0])}else a.length>=2&&(l=parseFloat(a[0]),d=parseInt(a[1],10));var m;if(typeof l<"u"&&l>=0&&l<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,a)}}),e;typeof d>"u"&&(e._volume=l),d=e._getSoundIds(d);for(var b=0;b<d.length;b++)m=e._soundById(d[b]),m&&(m._volume=l,a[2]||e._stopFade(d[b]),e._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(l,t.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=l*t.volume()),e._emit("volume",m._id))}else return m=d?e._soundById(d):e._sounds[0],m?m._volume:0;return e},fade:function(e,a,l,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"fade",action:function(){h.fade(e,a,l,d)}}),h;e=Math.min(Math.max(0,parseFloat(e)),1),a=Math.min(Math.max(0,parseFloat(a)),1),l=parseFloat(l),h.volume(e,d);for(var f=h._getSoundIds(d),m=0;m<f.length;m++){var b=h._soundById(f[m]);if(b){if(d||h._stopFade(f[m]),h._webAudio&&!b._muted){var w=t.ctx.currentTime,j=w+l/1e3;b._volume=e,b._node.gain.setValueAtTime(e,w),b._node.gain.linearRampToValueAtTime(a,j)}h._startFadeInterval(b,e,a,l,f[m],typeof d>"u")}}return h},_startFadeInterval:function(e,a,l,d,h,f){var m=this,b=a,w=l-a,j=Math.abs(w/.01),S=Math.max(4,j>0?d/j:d),C=Date.now();e._fadeTo=l,e._interval=setInterval(function(){var $=(Date.now()-C)/d;C=Date.now(),b+=w*$,b=Math.round(b*100)/100,w<0?b=Math.max(l,b):b=Math.min(l,b),m._webAudio?e._volume=b:m.volume(b,e._id,!0),f&&(m._volume=b),(l<a&&b<=l||l>a&&b>=l)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,m.volume(l,e._id),m._emit("fade",e._id))},S)},_stopFade:function(e){var a=this,l=a._soundById(e);return l&&l._interval&&(a._webAudio&&l._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(l._interval),l._interval=null,a.volume(l._fadeTo,e),l._fadeTo=null,a._emit("fade",e)),a},loop:function(){var e=this,a=arguments,l,d,h;if(a.length===0)return e._loop;if(a.length===1)if(typeof a[0]=="boolean")l=a[0],e._loop=l;else return h=e._soundById(parseInt(a[0],10)),h?h._loop:!1;else a.length===2&&(l=a[0],d=parseInt(a[1],10));for(var f=e._getSoundIds(d),m=0;m<f.length;m++)h=e._soundById(f[m]),h&&(h._loop=l,e._webAudio&&h._node&&h._node.bufferSource&&(h._node.bufferSource.loop=l,l&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop,e.playing(f[m])&&(e.pause(f[m],!0),e.play(f[m],!0)))));return e},rate:function(){var e=this,a=arguments,l,d;if(a.length===0)d=e._sounds[0]._id;else if(a.length===1){var h=e._getSoundIds(),f=h.indexOf(a[0]);f>=0?d=parseInt(a[0],10):l=parseFloat(a[0])}else a.length===2&&(l=parseFloat(a[0]),d=parseInt(a[1],10));var m;if(typeof l=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,a)}}),e;typeof d>"u"&&(e._rate=l),d=e._getSoundIds(d);for(var b=0;b<d.length;b++)if(m=e._soundById(d[b]),m){e.playing(d[b])&&(m._rateSeek=e.seek(d[b]),m._playStart=e._webAudio?t.ctx.currentTime:m._playStart),m._rate=l,e._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(l,t.ctx.currentTime):m._node&&(m._node.playbackRate=l);var w=e.seek(d[b]),j=(e._sprite[m._sprite][0]+e._sprite[m._sprite][1])/1e3-w,S=j*1e3/Math.abs(m._rate);(e._endTimers[d[b]]||!m._paused)&&(e._clearTimer(d[b]),e._endTimers[d[b]]=setTimeout(e._ended.bind(e,m),S)),e._emit("rate",m._id)}}else return m=e._soundById(d),m?m._rate:e._rate;return e},seek:function(){var e=this,a=arguments,l,d;if(a.length===0)e._sounds.length&&(d=e._sounds[0]._id);else if(a.length===1){var h=e._getSoundIds(),f=h.indexOf(a[0]);f>=0?d=parseInt(a[0],10):e._sounds.length&&(d=e._sounds[0]._id,l=parseFloat(a[0]))}else a.length===2&&(l=parseFloat(a[0]),d=parseInt(a[1],10));if(typeof d>"u")return 0;if(typeof l=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,a)}}),e;var m=e._soundById(d);if(m)if(typeof l=="number"&&l>=0){var b=e.playing(d);b&&e.pause(d,!0),m._seek=l,m._ended=!1,e._clearTimer(d),!e._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=l);var w=function(){b&&e.play(d,!0),e._emit("seek",d)};if(b&&!e._webAudio){var j=function(){e._playLock?setTimeout(j,0):w()};setTimeout(j,0)}else w()}else if(e._webAudio){var S=e.playing(d)?t.ctx.currentTime-m._playStart:0,C=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(C+S*Math.abs(m._rate))}else return m._node.currentTime;return e},playing:function(e){var a=this;if(typeof e=="number"){var l=a._soundById(e);return l?!l._paused:!1}for(var d=0;d<a._sounds.length;d++)if(!a._sounds[d]._paused)return!0;return!1},duration:function(e){var a=this,l=a._duration,d=a._soundById(e);return d&&(l=a._sprite[d._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var e=this,a=e._sounds,l=0;l<a.length;l++)a[l]._paused||e.stop(a[l]._id),e._webAudio||(e._clearSound(a[l]._node),a[l]._node.removeEventListener("error",a[l]._errorFn,!1),a[l]._node.removeEventListener(t._canPlayEvent,a[l]._loadFn,!1),a[l]._node.removeEventListener("ended",a[l]._endFn,!1),t._releaseHtml5Audio(a[l]._node)),delete a[l]._node,e._clearTimer(a[l]._id);var d=t._howls.indexOf(e);d>=0&&t._howls.splice(d,1);var h=!0;for(l=0;l<t._howls.length;l++)if(t._howls[l]._src===e._src||e._src.indexOf(t._howls[l]._src)>=0){h=!1;break}return c&&h&&delete c[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,a,l,d){var h=this,f=h["_on"+e];return typeof a=="function"&&f.push(d?{id:l,fn:a,once:d}:{id:l,fn:a}),h},off:function(e,a,l){var d=this,h=d["_on"+e],f=0;if(typeof a=="number"&&(l=a,a=null),a||l)for(f=0;f<h.length;f++){var m=l===h[f].id;if(a===h[f].fn&&m||!a&&m){h.splice(f,1);break}}else if(e)d["_on"+e]=[];else{var b=Object.keys(d);for(f=0;f<b.length;f++)b[f].indexOf("_on")===0&&Array.isArray(d[b[f]])&&(d[b[f]]=[])}return d},once:function(e,a,l){var d=this;return d.on(e,a,l,1),d},_emit:function(e,a,l){for(var d=this,h=d["_on"+e],f=h.length-1;f>=0;f--)(!h[f].id||h[f].id===a||e==="load")&&(setTimeout((function(m){m.call(this,a,l)}).bind(d,h[f].fn),0),h[f].once&&d.off(e,h[f].fn,h[f].id));return d._loadQueue(e),d},_loadQueue:function(e){var a=this;if(a._queue.length>0){var l=a._queue[0];l.event===e&&(a._queue.shift(),a._loadQueue()),e||l.action()}return a},_ended:function(e){var a=this,l=e._sprite;if(!a._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(a._ended.bind(a,e),100),a;var d=!!(e._loop||a._sprite[l][2]);if(a._emit("end",e._id),!a._webAudio&&d&&a.stop(e._id,!0).play(e._id),a._webAudio&&d){a._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var h=(e._stop-e._start)*1e3/Math.abs(e._rate);a._endTimers[e._id]=setTimeout(a._ended.bind(a,e),h)}return a._webAudio&&!d&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,a._clearTimer(e._id),a._cleanBuffer(e._node),t._autoSuspend()),!a._webAudio&&!d&&a.stop(e._id,!0),a},_clearTimer:function(e){var a=this;if(a._endTimers[e]){if(typeof a._endTimers[e]!="function")clearTimeout(a._endTimers[e]);else{var l=a._soundById(e);l&&l._node&&l._node.removeEventListener("ended",a._endTimers[e],!1)}delete a._endTimers[e]}return a},_soundById:function(e){for(var a=this,l=0;l<a._sounds.length;l++)if(e===a._sounds[l]._id)return a._sounds[l];return null},_inactiveSound:function(){var e=this;e._drain();for(var a=0;a<e._sounds.length;a++)if(e._sounds[a]._ended)return e._sounds[a].reset();return new o(e)},_drain:function(){var e=this,a=e._pool,l=0,d=0;if(!(e._sounds.length<a)){for(d=0;d<e._sounds.length;d++)e._sounds[d]._ended&&l++;for(d=e._sounds.length-1;d>=0;d--){if(l<=a)return;e._sounds[d]._ended&&(e._webAudio&&e._sounds[d]._node&&e._sounds[d]._node.disconnect(0),e._sounds.splice(d,1),l--)}}},_getSoundIds:function(e){var a=this;if(typeof e>"u"){for(var l=[],d=0;d<a._sounds.length;d++)l.push(a._sounds[d]._id);return l}else return[e]},_refreshBuffer:function(e){var a=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=c[a._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),a},_cleanBuffer:function(e){var a=this,l=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return a;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),l))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,a},_clearSound:function(e){var a=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);a||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,a=e._parent;return e._muted=a._muted,e._loop=a._loop,e._volume=a._volume,e._rate=a._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,a._sounds.push(e),e.create(),e},create:function(){var e=this,a=e._parent,l=t._muted||e._muted||e._parent._muted?0:e._volume;return a._webAudio?(e._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(l,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=a._src,e._node.preload=a._preload===!0?"auto":a._preload,e._node.volume=l*t.volume(),e._node.load()),e},reset:function(){var e=this,a=e._parent;return e._muted=a._muted,e._loop=a._loop,e._volume=a._volume,e._rate=a._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,a=e._parent;a._duration=Math.ceil(e._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,a=e._parent;a._duration===1/0&&(a._duration=Math.ceil(e._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},u=function(e){var a=e._src;if(c[a]){e._duration=c[a].duration,x(e);return}if(/^data:[^;]+;base64,/.test(a)){for(var l=atob(a.split(",")[1]),d=new Uint8Array(l.length),h=0;h<l.length;++h)d[h]=l.charCodeAt(h);p(d.buffer,e)}else{var f=new XMLHttpRequest;f.open(e._xhr.method,a,!0),f.withCredentials=e._xhr.withCredentials,f.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(m){f.setRequestHeader(m,e._xhr.headers[m])}),f.onload=function(){var m=(f.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+f.status+".");return}p(f.response,e)},f.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[a],e.load())},g(f)}},g=function(e){try{e.send()}catch{e.onerror()}},p=function(e,a){var l=function(){a._emit("loaderror",null,"Decoding audio data failed.")},d=function(h){h&&a._sounds.length>0?(c[a._src]=h,x(a,h)):l()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(d).catch(l):t.ctx.decodeAudioData(e,d,l)},x=function(e,a){a&&!e._duration&&(e._duration=a.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},v=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),a=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l=a?parseInt(a[1],10):null;if(e&&l&&l<9){var d=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!d&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};r.Howler=t,r.Howl=i,typeof globalThis<"u"?(globalThis.HowlerGlobal=s,globalThis.Howler=t,globalThis.Howl=i,globalThis.Sound=o):typeof window<"u"&&(window.HowlerGlobal=s,window.Howler=t,window.Howl=i,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var o=i._howls.length-1;o>=0;o--)i._howls[o].stereo(t);return i},HowlerGlobal.prototype.pos=function(t,i,o){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(i=typeof i!="number"?c._pos[1]:i,o=typeof o!="number"?c._pos[2]:o,typeof t=="number")c._pos=[t,i,o],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(t,i,o,c,u,g){var p=this;if(!p.ctx||!p.ctx.listener)return p;var x=p._orientation;if(i=typeof i!="number"?x[1]:i,o=typeof o!="number"?x[2]:o,c=typeof c!="number"?x[3]:c,u=typeof u!="number"?x[4]:u,g=typeof g!="number"?x[5]:g,typeof t=="number")p._orientation=[t,i,o,c,u,g],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(g,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(t,i,o,c,u,g);else return x;return p},Howl.prototype.init=function(t){return function(i){var o=this;return o._orientation=i.orientation||[1,0,0],o._stereo=i.stereo||null,o._pos=i.pos||null,o._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},o._onstereo=i.onstereo?[{fn:i.onstereo}]:[],o._onpos=i.onpos?[{fn:i.onpos}]:[],o._onorientation=i.onorientation?[{fn:i.onorientation}]:[],t.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(t,i)}}),o;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof t=="number")o._stereo=t,o._pos=[t,0,0];else return o._stereo;for(var u=o._getSoundIds(i),g=0;g<u.length;g++){var p=o._soundById(u[g]);if(p)if(typeof t=="number")p._stereo=t,p._pos=[t,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&s(p,c),c==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(t,0,0):p._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",p._id);else return p._stereo}return o},Howl.prototype.pos=function(t,i,o,c){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(t,i,o,c)}}),u;if(i=typeof i!="number"?0:i,o=typeof o!="number"?-.5:o,typeof c>"u")if(typeof t=="number")u._pos=[t,i,o];else return u._pos;for(var g=u._getSoundIds(c),p=0;p<g.length;p++){var x=u._soundById(g[p]);if(x)if(typeof t=="number")x._pos=[t,i,o],x._node&&((!x._panner||x._panner.pan)&&s(x,"spatial"),typeof x._panner.positionX<"u"?(x._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),x._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),x._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):x._panner.setPosition(t,i,o)),u._emit("pos",x._id);else return x._pos}return u},Howl.prototype.orientation=function(t,i,o,c){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(t,i,o,c)}}),u;if(i=typeof i!="number"?u._orientation[1]:i,o=typeof o!="number"?u._orientation[2]:o,typeof c>"u")if(typeof t=="number")u._orientation=[t,i,o];else return u._orientation;for(var g=u._getSoundIds(c),p=0;p<g.length;p++){var x=u._soundById(g[p]);if(x)if(typeof t=="number")x._orientation=[t,i,o],x._node&&(x._panner||(x._pos||(x._pos=u._pos||[0,0,-.5]),s(x,"spatial")),typeof x._panner.orientationX<"u"?(x._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),x._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),x._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):x._panner.setOrientation(t,i,o)),u._emit("orientation",x._id);else return x._orientation}return u},Howl.prototype.pannerAttr=function(){var t=this,i=arguments,o,c,u;if(!t._webAudio)return t;if(i.length===0)return t._pannerAttr;if(i.length===1)if(typeof i[0]=="object")o=i[0],typeof c>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),t._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:t._panningModel});else return u=t._soundById(parseInt(i[0],10)),u?u._pannerAttr:t._pannerAttr;else i.length===2&&(o=i[0],c=parseInt(i[1],10));for(var g=t._getSoundIds(c),p=0;p<g.length;p++)if(u=t._soundById(g[p]),u){var x=u._pannerAttr;x={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:x.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:x.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:x.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:x.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:x.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:x.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:x.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:x.panningModel};var v=u._panner;v||(u._pos||(u._pos=t._pos||[0,0,-.5]),s(u,"spatial"),v=u._panner),v.coneInnerAngle=x.coneInnerAngle,v.coneOuterAngle=x.coneOuterAngle,v.coneOuterGain=x.coneOuterGain,v.distanceModel=x.distanceModel,v.maxDistance=x.maxDistance,v.refDistance=x.refDistance,v.rolloffFactor=x.rolloffFactor,v.panningModel=x.panningModel}return t},Sound.prototype.init=function(t){return function(){var i=this,o=i._parent;i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,t.call(this),i._stereo?o.stereo(i._stereo):i._pos&&o.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var i=this,o=i._parent;return i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,i._stereo?o.stereo(i._stereo):i._pos?o.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,o._refreshBuffer(i)),t.call(this)}}(Sound.prototype.reset);var s=function(t,i){i=i||"spatial",i==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(en);const Ae={playLaunch:()=>{const r=new(window.AudioContext||window.webkitAudioContext),s=r.createOscillator(),t=r.createGain();s.connect(t),t.connect(r.destination),s.frequency.setValueAtTime(200,r.currentTime),s.frequency.exponentialRampToValueAtTime(50,r.currentTime+1.5),t.gain.setValueAtTime(.3,r.currentTime),t.gain.exponentialRampToValueAtTime(.01,r.currentTime+1.5),s.start(r.currentTime),s.stop(r.currentTime+1.5)},playHover:()=>{const r=new(window.AudioContext||window.webkitAudioContext),s=r.createOscillator(),t=r.createGain();s.connect(t),t.connect(r.destination),s.frequency.setValueAtTime(800,r.currentTime),s.frequency.exponentialRampToValueAtTime(1200,r.currentTime+.1),t.gain.setValueAtTime(.1,r.currentTime),t.gain.exponentialRampToValueAtTime(.01,r.currentTime+.1),s.start(r.currentTime),s.stop(r.currentTime+.1)},playSuccess:()=>{const r=new(window.AudioContext||window.webkitAudioContext);[523.25,659.25,783.99].forEach((t,i)=>{const o=r.createOscillator(),c=r.createGain();o.connect(c),c.connect(r.destination),o.frequency.setValueAtTime(t,r.currentTime+i*.1),c.gain.setValueAtTime(.1,r.currentTime+i*.1),c.gain.exponentialRampToValueAtTime(.01,r.currentTime+i*.1+.5),o.start(r.currentTime+i*.1),o.stop(r.currentTime+i*.1+.5)})}},tn=()=>{const r=pe(),{setPlayerNames:s,resetGame:t}=me(),[i,o]=y.useState(""),[c,u]=y.useState(""),[g,p]=y.useState(!1),[x,v]=y.useState(!1),[e,a]=y.useState(!0),[l,d]=y.useState(!0),h=()=>{i.trim()&&c.trim()&&(Ae.playLaunch(),v(!0),p(!0),setTimeout(()=>{a(!1),t(),s(i.trim(),c.trim())},1500),setTimeout(()=>{r("/board")},3e3))},f=()=>{Ae.playHover()},m=()=>{d(!1)},b=()=>{d(!0)};return n.jsxs("div",{className:"min-vh-100 position-relative overflow-hidden",children:[n.jsx(Jt,{isLaunching:x}),n.jsx(M,{children:e&&n.jsxs("div",{className:"position-relative z-10 min-vh-100 d-flex flex-column",children:[n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.8},transition:{duration:1},className:"flex-grow-1 d-flex align-items-center justify-content-center",style:{minHeight:"60vh"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(_.h1,{className:"display-1 fw-bold mb-4",style:{background:"linear-gradient(45deg, #00E5FF, #00FF88, #FFFFFF)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 50px rgba(0, 229, 255, 0.8), 0 0 100px rgba(0, 255, 136, 0.6)",filter:"drop-shadow(0 0 30px rgba(0, 229, 255, 0.5))",fontSize:"clamp(3rem, 8vw, 6rem)",lineHeight:1.1},initial:{opacity:0,y:-100,scale:.5},animate:{opacity:1,y:0,scale:1},transition:{duration:1.5,ease:"easeOut"},children:n.jsx(_.span,{animate:{y:[0,-10,0],textShadow:["0 0 50px rgba(0, 229, 255, 0.8), 0 0 100px rgba(0, 255, 136, 0.6)","0 0 60px rgba(0, 255, 136, 1), 0 0 120px rgba(255, 255, 255, 0.8)","0 0 50px rgba(0, 229, 255, 0.8), 0 0 100px rgba(0, 255, 136, 0.6)"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:"FARMPOLY 3D"})}),n.jsx(_.h2,{className:"h2 text-white mb-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:1},style:{textShadow:"0 0 20px rgba(255, 255, 255, 0.5)",fontSize:"clamp(1.2rem, 3vw, 2rem)"},children:n.jsx(_.span,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)",backgroundSize:"200% 100%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Explore Smart Farming Through NASA’s Eyes"})})]})}),n.jsx(_.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.8},className:"d-flex justify-content-center pb-5",children:n.jsx("div",{className:"container-fluid px-4",children:n.jsx("div",{className:"row justify-content-center",children:n.jsxs("div",{className:"col-lg-8 col-xl-6",children:[n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.7,duration:.6},className:"text-center mb-4",children:n.jsxs(_.button,{onClick:b,className:"btn btn-outline-info btn-lg px-4 py-2",whileHover:{scale:1.05},whileTap:{scale:.95},style:{background:"rgba(56, 189, 248, 0.1)",border:"2px solid rgba(56, 189, 248, 0.6)",color:"#38bdf8",backdropFilter:"blur(10px)",borderRadius:"25px"},children:[n.jsx("i",{className:"fas fa-graduation-cap me-2"}),"Lihat Panduan Game"]})}),n.jsx(_.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.8,duration:.8},className:"mb-4",children:n.jsxs("div",{className:"row g-4",children:[n.jsx("div",{className:"col-md-6",children:n.jsxs(_.div,{className:"position-relative",whileHover:{scale:1.02},onHoverStart:f,children:[n.jsxs("label",{className:"form-label text-white fw-bold mb-3 d-flex align-items-center",children:[n.jsx("i",{className:"fas fa-user-astronaut me-2 text-success"}),"Player 1 Name:"]}),n.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),placeholder:"Enter Player 1 name...",className:"form-control form-control-lg player-input",style:{background:"rgba(255, 255, 255, 0.15)",border:"2px solid rgba(76, 175, 80, 0.6)",borderRadius:"15px",color:"white",backdropFilter:"blur(15px)",boxShadow:"0 0 25px rgba(76, 175, 80, 0.4)",transition:"all 0.3s ease"},onFocus:w=>{w.target.style.boxShadow="0 0 40px rgba(76, 175, 80, 0.8)",w.target.style.borderColor="rgba(76, 175, 80, 1)"},onBlur:w=>{w.target.style.boxShadow="0 0 25px rgba(76, 175, 80, 0.4)",w.target.style.borderColor="rgba(76, 175, 80, 0.6)"}})]})}),n.jsx("div",{className:"col-md-6",children:n.jsxs(_.div,{className:"position-relative",whileHover:{scale:1.02},onHoverStart:f,children:[n.jsxs("label",{className:"form-label text-white fw-bold mb-3 d-flex align-items-center",children:[n.jsx("i",{className:"fas fa-user-astronaut me-2 text-primary"}),"Player 2 Name:"]}),n.jsx("input",{type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"Enter Player 2 name...",className:"form-control form-control-lg player-input",style:{background:"rgba(255, 255, 255, 0.15)",border:"2px solid rgba(147, 51, 234, 0.6)",borderRadius:"15px",color:"white",backdropFilter:"blur(15px)",boxShadow:"0 0 25px rgba(147, 51, 234, 0.4)",transition:"all 0.3s ease"},onFocus:w=>{w.target.style.boxShadow="0 0 40px rgba(147, 51, 234, 0.8)",w.target.style.borderColor="rgba(147, 51, 234, 1)"},onBlur:w=>{w.target.style.boxShadow="0 0 25px rgba(147, 51, 234, 0.4)",w.target.style.borderColor="rgba(147, 51, 234, 0.6)"}})]})})]})}),n.jsx(_.div,{className:"text-center mb-5",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:2.1,duration:.8,type:"spring"},children:n.jsx(_.button,{className:`btn btn-lg px-6 py-4 fw-bold position-relative ${i.trim()&&c.trim()?"btn-success":"btn-secondary"}`,onClick:h,disabled:!i.trim()||!c.trim(),whileHover:i.trim()&&c.trim()?{scale:1.08,boxShadow:"0 0 50px rgba(0, 255, 136, 0.8)"}:{},whileTap:i.trim()&&c.trim()?{scale:.95}:{},style:{fontSize:"1.4rem",borderRadius:"25px",border:"none",background:i.trim()&&c.trim()?"linear-gradient(45deg, #00FF88, #00E5FF, #FFD700)":"#6c757d",boxShadow:i.trim()&&c.trim()?"0 0 40px rgba(0, 255, 136, 0.6), 0 0 80px rgba(0, 229, 255, 0.4)":"none",transition:"all 0.3s ease",transform:"translateZ(0)",perspective:"1000px"},children:n.jsxs(_.span,{animate:i.trim()&&c.trim()?{textShadow:["0 0 10px rgba(255, 255, 255, 0.8)","0 0 20px rgba(0, 255, 136, 1)","0 0 10px rgba(255, 255, 255, 0.8)"]}:{},transition:{duration:2,repeat:1/0},children:[n.jsx("i",{className:"fas fa-rocket me-3"}),g?"🚀 Launching Mission...":"🎮 Start Mission!"]})})})]})})})}),n.jsx(_.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:2.4,duration:.8},className:"d-flex justify-content-center pb-4",children:n.jsx("div",{className:"card border-0",style:{background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(20px)",borderRadius:"25px",border:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)",maxWidth:"600px",width:"90%"},children:n.jsxs("div",{className:"card-body p-4",children:[n.jsxs("h5",{className:"card-title text-white fw-bold mb-4 d-flex align-items-center justify-content-center",children:[n.jsx("span",{className:"me-3",children:"ℹ️"}),"Mission Briefing"]}),n.jsx("div",{className:"row g-3",children:[{icon:"🎲",text:"Roll dice & answer NASA questions"},{icon:"🚶",text:"Move across the 3D board if correct"},{icon:"🌍",text:"Face NASA events & earn eco-coins"},{icon:"🏆",text:"First to complete 10 turns wins!"}].map((w,j)=>n.jsxs(_.div,{className:"col-md-6 d-flex align-items-center",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:2.7+j*.15,duration:.6},children:[n.jsx(_.span,{className:"me-3",style:{fontSize:"1.8rem"},animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,delay:j*.3},children:w.icon}),n.jsx("span",{className:"text-white-50 small fw-medium",children:w.text})]},j))})]})})})]})}),n.jsx(M,{children:l&&n.jsx(Kt,{onComplete:m})}),n.jsx(M,{children:x&&n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"radial-gradient(circle, rgba(0, 229, 255, 0.3) 0%, rgba(0, 31, 63, 0.9) 70%)",zIndex:1e3},children:n.jsxs(_.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},className:"text-center text-white",children:[n.jsx(_.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},style:{fontSize:"5rem",marginBottom:"1.5rem"},children:"🚀"}),n.jsx("h1",{className:"fw-bold mb-3",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)"},children:"Launching Mission..."}),n.jsx("p",{className:"text-white-50 fs-5",children:"Preparing 3D farming simulation"})]})})})]})};function nn({position:r,index:s,event:t,isActive:i,isHighlighted:o}){const c=y.useRef(),[u,g]=y.useState(!1);k(x=>{c.current&&(c.current.position.y=r[1]+Math.sin(x.clock.elapsedTime*2+s)*.05,i||o?c.current.material.emissiveIntensity=.3+Math.sin(x.clock.elapsedTime*3)*.1:c.current.material.emissiveIntensity=.05,u?c.current.scale.setScalar(1.1):c.current.scale.setScalar(1))});const p=()=>i||o?"#00ff99":(t==null?void 0:t.effect)>0?"#38bdf8":(t==null?void 0:t.effect)<0?"#facc15":"#64748b";return n.jsxs("group",{position:r,children:[n.jsx(F,{ref:c,args:[2.5,.3,2.5],onPointerOver:()=>g(!0),onPointerOut:()=>g(!1),children:n.jsx("meshStandardMaterial",{color:p(),emissive:p(),emissiveIntensity:.1,roughness:.3,metalness:.7})}),(t==null?void 0:t.icon)&&n.jsx(K,{position:[0,.4,0],fontSize:.6,color:"#ffffff",anchorX:"center",anchorY:"middle",children:t.icon}),n.jsx(K,{position:[-.8,.9,.8],fontSize:.6,color:"#ffffff",anchorX:"left",anchorY:"top",strokeWidth:.02,strokeColor:"#000000",outlineWidth:.02,outlineColor:"#000000",children:s+1})]})}function an({position:r,color:s,playerName:t,isActive:i,isMoving:o}){const c=y.useRef(),[u,g]=y.useState(!1);return k(p=>{c.current&&(i?(c.current.position.y=r[1]+Math.sin(p.clock.elapsedTime*4)*.2,c.current.rotation.y+=.02):c.current.position.y=r[1],o?c.current.scale.setScalar(1.3):c.current.scale.setScalar(1),u?c.current.material.emissiveIntensity=.4:c.current.material.emissiveIntensity=.1)}),n.jsxs("group",{position:r,children:[n.jsx(ke,{ref:c,args:[.4,16,16],onPointerOver:()=>g(!0),onPointerOut:()=>g(!1),children:n.jsx("meshStandardMaterial",{color:s,emissive:s,emissiveIntensity:.1,roughness:.2,metalness:.8})}),n.jsx(K,{position:[0,1.5,0],fontSize:.4,color:"#ffffff",anchorX:"center",anchorY:"middle",children:t})]})}function rn(){const r=y.useRef();return k(s=>{r.current&&(r.current.rotation.y+=.005,r.current.position.y=Math.sin(s.clock.elapsedTime*.5)*.1)}),n.jsxs("group",{ref:r,position:[0,3,0],children:[n.jsx(F,{args:[.8,.4,.8],position:[0,0,0],children:n.jsx("meshStandardMaterial",{color:"#00ff99",emissive:"#00ff99",emissiveIntensity:.3,transparent:!0,opacity:.7})}),n.jsx(F,{args:[1.6,.1,.6],position:[0,0,0],children:n.jsx("meshStandardMaterial",{color:"#38bdf8",emissive:"#38bdf8",emissiveIntensity:.2,transparent:!0,opacity:.8})}),n.jsx(U,{args:[.1,.8,4],position:[0,.6,0],children:n.jsx("meshStandardMaterial",{color:"#facc15",emissive:"#facc15",emissiveIntensity:.4})})]})}function sn(){const r=y.useRef(),s=y.useRef();return k(t=>{s.current&&(s.current.rotation.y+=.001)}),n.jsx("group",{ref:r,children:n.jsx(Te,{ref:s,radius:200,depth:50,count:300,factor:4,saturation:0,fade:!0,speed:.5})})}function on({tiles:r,players:s,currentPlayer:t,highlightedTile:i,activePlayer:o}){const c=[];for(let g=0;g<12;g++){const p=g/12*Math.PI*2;c.push([Math.cos(p)*8,0,Math.sin(p)*8])}return n.jsxs(n.Fragment,{children:[n.jsx("ambientLight",{intensity:.4,color:"#001122"}),n.jsx("directionalLight",{position:[10,10,5],intensity:1.2,color:"#00ff99",castShadow:!0}),n.jsx("pointLight",{position:[-10,10,-10],intensity:.6,color:"#38bdf8"}),n.jsx("pointLight",{position:[0,5,0],intensity:.8,color:"#facc15"}),n.jsx(sn,{}),r.map((g,p)=>{var x;return n.jsx(nn,{position:c[p],index:p,event:g,isActive:((x=s[t])==null?void 0:x.position)===p,isHighlighted:i===p},p)}),Object.entries(s).map(([g,p],x)=>{const v=g==="player1"?-.3:.3,e=g==="player1"?-.3:.3;return n.jsx(an,{position:[c[p.position][0]+v,c[p.position][1]+.8,c[p.position][2]+e],color:g==="player1"?"#00BFFF":"#FF4500",playerName:p.name,isActive:t===g,isMoving:!1},g)}),n.jsx(rn,{}),n.jsx(F,{args:[25,.1,25],position:[0,-.5,0],children:n.jsx("meshStandardMaterial",{color:"#001122",emissive:"#001122",emissiveIntensity:.1})})]})}function ln({tiles:r,players:s,currentPlayer:t,highlightedTile:i}){return n.jsx("div",{className:"w-100 h-100 position-relative",children:n.jsxs(ue,{camera:{position:[0,12,15],fov:60},shadows:!0,style:{background:"transparent"},children:[n.jsx(on,{tiles:r,players:s,currentPlayer:t,highlightedTile:i}),n.jsx(Xe,{enablePan:!1,enableZoom:!0,enableRotate:!0,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/2,minDistance:12,maxDistance:25,autoRotate:!0,autoRotateSpeed:.5})]})})}function cn({players:r,currentPlayer:s,turnCount:t,maxTurns:i,consecutiveCorrect:o,totalCorrectAnswers:c,totalQuestions:u}){return r[s],n.jsxs("div",{className:"position-fixed start-0 top-0 h-100 d-flex flex-column justify-content-start p-4",style:{zIndex:20,width:"320px",paddingTop:"80px"},children:[n.jsx(_.div,{className:`card border-0 mb-3 ${s==="player1"?"shadow-lg":"shadow"}`,style:{background:s==="player1"?"rgba(0, 255, 153, 0.15)":"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"20px",border:s==="player1"?"2px solid rgba(0, 255, 153, 0.5)":"1px solid rgba(255, 255, 255, 0.2)",boxShadow:s==="player1"?"0 0 30px rgba(0, 255, 153, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.3)"},animate:{scale:s==="player1"?1.05:1,boxShadow:s==="player1"?"0 0 40px rgba(0, 255, 153, 0.4)":"0 8px 32px rgba(0, 0, 0, 0.3)"},transition:{duration:.3},children:n.jsxs("div",{className:"card-body p-4",children:[n.jsxs("div",{className:"d-flex align-items-center mb-3",children:[n.jsx("div",{className:"rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",background:`linear-gradient(45deg, ${r.player1.color}, rgba(255,255,255,0.2))`,fontSize:"1.5rem"},children:"👩‍🌾"}),n.jsxs("div",{children:[n.jsx("h5",{className:"mb-1 text-white fw-bold",children:r.player1.name}),n.jsx("small",{className:"text-white-50",children:"Farmer"})]}),s==="player1"&&n.jsx(_.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:1/0},className:"ms-auto",children:n.jsx("span",{className:"text-warning fs-4",children:"👑"})})]}),n.jsxs(_.div,{className:"d-flex justify-content-between align-items-center mb-3",animate:{color:r.player1.ecoCoins>100?"#00ff99":"#ffffff"},children:[n.jsx("span",{className:"text-white-50",children:"💰 Eco-coins:"}),n.jsx(_.span,{className:"fw-bold fs-5",animate:{scale:[1,1.1,1],textShadow:"0 0 10px currentColor"},transition:{duration:.5,repeat:1/0},children:r.player1.ecoCoins})]}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("span",{className:"text-white-50",children:"📍 Position:"}),n.jsxs("span",{className:"text-white fw-bold",children:["Tile ",r.player1.position+1]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[n.jsx("small",{className:"text-white-50",children:"Progress"}),n.jsxs("small",{className:"text-white-50",children:[Math.ceil(t/2),"/",i]})]}),n.jsx("div",{className:"progress",style:{height:"6px",background:"rgba(255,255,255,0.1)"},children:n.jsx(_.div,{className:"progress-bar",style:{background:"linear-gradient(90deg, #00ff99, #38bdf8)",boxShadow:"0 0 10px rgba(0, 255, 153, 0.5)"},initial:{width:0},animate:{width:`${t/(i*2)*100}%`},transition:{duration:.5}})})]})]})}),n.jsx(_.div,{className:`card border-0 ${s==="player2"?"shadow-lg":"shadow"}`,style:{background:s==="player2"?"rgba(56, 189, 248, 0.15)":"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"20px",border:s==="player2"?"2px solid rgba(56, 189, 248, 0.5)":"1px solid rgba(255, 255, 255, 0.2)",boxShadow:s==="player2"?"0 0 30px rgba(56, 189, 248, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.3)"},animate:{scale:s==="player2"?1.05:1,boxShadow:s==="player2"?"0 0 40px rgba(56, 189, 248, 0.4)":"0 8px 32px rgba(0, 0, 0, 0.3)"},transition:{duration:.3},children:n.jsxs("div",{className:"card-body p-4",children:[n.jsxs("div",{className:"d-flex align-items-center mb-3",children:[n.jsx("div",{className:"rounded-circle me-3 d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",background:`linear-gradient(45deg, ${r.player2.color}, rgba(255,255,255,0.2))`,fontSize:"1.5rem"},children:"🧑‍🚀"}),n.jsxs("div",{children:[n.jsx("h5",{className:"mb-1 text-white fw-bold",children:r.player2.name}),n.jsx("small",{className:"text-white-50",children:"Astronaut"})]}),s==="player2"&&n.jsx(_.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:1/0},className:"ms-auto",children:n.jsx("span",{className:"text-warning fs-4",children:"👑"})})]}),n.jsxs(_.div,{className:"d-flex justify-content-between align-items-center mb-3",animate:{color:r.player2.ecoCoins>100?"#00ff99":"#ffffff"},children:[n.jsx("span",{className:"text-white-50",children:"💰 Eco-coins:"}),n.jsx(_.span,{className:"fw-bold fs-5",animate:{scale:[1,1.1,1],textShadow:"0 0 10px currentColor"},transition:{duration:.5,repeat:1/0},children:r.player2.ecoCoins})]}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("span",{className:"text-white-50",children:"📍 Position:"}),n.jsxs("span",{className:"text-white fw-bold",children:["Tile ",r.player2.position+1]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[n.jsx("small",{className:"text-white-50",children:"Progress"}),n.jsxs("small",{className:"text-white-50",children:[Math.ceil(t/2),"/",i]})]}),n.jsx("div",{className:"progress",style:{height:"6px",background:"rgba(255,255,255,0.1)"},children:n.jsx(_.div,{className:"progress-bar",style:{background:"linear-gradient(90deg, #38bdf8, #facc15)",boxShadow:"0 0 10px rgba(56, 189, 248, 0.5)"},initial:{width:0},animate:{width:`${t/(i*2)*100}%`},transition:{duration:.5}})})]})]})}),n.jsx(_.div,{className:"card border-0 mt-1",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"15px",border:"1px solid rgba(255, 255, 255, 0.2)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs("div",{className:"card-body p-3",children:[n.jsxs("h6",{className:"text-white fw-bold mb-3 d-flex align-items-center",children:[n.jsx("span",{className:"me-2",children:"🏆"}),"Mission Stats"]}),n.jsxs("div",{className:"row g-2 text-center",children:[n.jsx("div",{className:"col-4",children:n.jsxs("div",{className:"rounded p-2",style:{background:"rgba(0, 255, 153, 0.1)"},children:[n.jsx("div",{className:"fw-bold text-success",children:o}),n.jsx("small",{className:"text-white-50",children:"Streak"})]})}),n.jsx("div",{className:"col-4",children:n.jsxs("div",{className:"rounded p-2",style:{background:"rgba(56, 189, 248, 0.1)"},children:[n.jsx("div",{className:"fw-bold text-info",children:c}),n.jsx("small",{className:"text-white-50",children:"Correct"})]})}),n.jsx("div",{className:"col-4",children:n.jsxs("div",{className:"rounded p-2",style:{background:"rgba(250, 204, 21, 0.1)"},children:[n.jsxs("div",{className:"fw-bold text-warning",children:[u>0?Math.round(c/u*100):0,"%"]}),n.jsx("small",{className:"text-white-50",children:"Accuracy"})]})})]})]})})]})}function dn({value:r,isRolling:s,onRoll:t}){const i=y.useRef(),[o,c]=y.useState(1);k(g=>{i.current&&(s?(i.current.rotation.x+=.3,i.current.rotation.y+=.4,i.current.rotation.z+=.2,c(Math.floor(Math.random()*6)+1)):(i.current.rotation.x=se.lerp(i.current.rotation.x,0,.1),i.current.rotation.y=se.lerp(i.current.rotation.y,0,.1),i.current.rotation.z=se.lerp(i.current.rotation.z,0,.1),c(r)))});const u=g=>{const p={1:[[0,0]],2:[[-.3,-.3],[.3,.3]],3:[[-.3,-.3],[0,0],[.3,.3]],4:[[-.3,-.3],[.3,-.3],[-.3,.3],[.3,.3]],5:[[-.3,-.3],[.3,-.3],[0,0],[-.3,.3],[.3,.3]],6:[[-.3,-.3],[.3,-.3],[-.3,0],[.3,0],[-.3,.3],[.3,.3]]};return p[g]||p[1]};return n.jsxs("group",{children:[n.jsx(F,{ref:i,args:[1.5,1.5,1.5],position:[0,0,0],children:n.jsx("meshStandardMaterial",{color:s?"#facc15":"#ffffff",emissive:s?"#facc15":"#00ff99",emissiveIntensity:s?.4:.2,roughness:.1,metalness:.9})}),u(o).map((g,p)=>n.jsx(F,{args:[.2,.2,.02],position:[g[0],g[1],.76],children:n.jsx("meshStandardMaterial",{color:"#000000"})},p))]})}function un({diceRoll:r,isRolling:s,onRoll:t,gameLog:i}){const[o,c]=y.useState(!1);return n.jsxs("div",{className:"position-fixed end-0 top-0 h-100 d-flex flex-column justify-content-center p-4",style:{zIndex:20,width:"320px"},children:[n.jsx(_.div,{className:"card border-0 mb-4",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"2px solid rgba(250, 204, 21, 0.3)",boxShadow:"0 0 30px rgba(250, 204, 21, 0.2)"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:n.jsxs("div",{className:"card-body p-4 text-center",children:[n.jsxs("h5",{className:"text-white fw-bold mb-3 d-flex align-items-center justify-content-center",children:[n.jsx("span",{className:"me-2",children:"🎲"}),"Mission Dice"]}),n.jsx("div",{style:{height:"120px",marginBottom:"20px"},children:n.jsxs(ue,{camera:{position:[0,0,4],fov:50},children:[n.jsx("ambientLight",{intensity:.6}),n.jsx("directionalLight",{position:[5,5,5],intensity:.8}),n.jsx("pointLight",{position:[0,0,5],intensity:.5,color:"#facc15"}),n.jsx(dn,{value:r,isRolling:s})]})}),n.jsx(_.button,{className:"btn btn-lg w-100 fw-bold",onClick:t,disabled:s,style:{background:s?"linear-gradient(45deg, #6c757d, #495057)":"linear-gradient(45deg, #00ff99, #38bdf8)",border:"none",borderRadius:"15px",color:"white",fontSize:"1.1rem",boxShadow:s?"none":"0 0 20px rgba(0, 255, 153, 0.4)"},whileHover:s?{}:{scale:1.05,boxShadow:"0 0 30px rgba(0, 255, 153, 0.6)"},whileTap:s?{}:{scale:.95},children:s?n.jsxs(n.Fragment,{children:[n.jsx(_.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"me-2",children:"🎲"}),"Rolling..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"me-2",children:"🚀"}),"Roll Mission"]})}),n.jsx(M,{children:!s&&r>0&&n.jsx(_.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.8},className:"mt-3",children:n.jsx("div",{className:"rounded p-2",style:{background:"rgba(0, 255, 153, 0.2)",border:"1px solid rgba(0, 255, 153, 0.5)"},children:n.jsxs("span",{className:"text-white fw-bold",children:["Rolled: ",r]})})})})]})}),n.jsxs(_.div,{className:"card border-0",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.2)",maxHeight:o?"400px":"60px",overflow:"hidden",transition:"max-height 0.3s ease"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[n.jsxs("div",{className:"card-header border-0 d-flex align-items-center justify-content-between",style:{background:"transparent",cursor:"pointer"},onClick:()=>c(!o),children:[n.jsxs("h6",{className:"text-white fw-bold mb-0 d-flex align-items-center",children:[n.jsx("span",{className:"me-2",children:"📜"}),"Mission Log"]}),n.jsx(_.span,{animate:{rotate:o?180:0},transition:{duration:.3},children:n.jsx("i",{className:"fas fa-chevron-down text-white-50"})})]}),n.jsx(M,{children:o&&n.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"card-body p-3",style:{maxHeight:"300px",overflowY:"auto"},children:[i.slice(-8).reverse().map((u,g)=>n.jsx(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:g*.1},className:`alert alert-sm mb-2 border-0 ${u.type==="positive"?"alert-success":u.type==="negative"?"alert-danger":"alert-info"}`,style:{background:u.type==="positive"?"rgba(0, 255, 153, 0.2)":u.type==="negative"?"rgba(239, 68, 68, 0.2)":"rgba(56, 189, 248, 0.2)",border:u.type==="positive"?"1px solid rgba(0, 255, 153, 0.3)":u.type==="negative"?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(56, 189, 248, 0.3)"},children:n.jsx("small",{className:"text-white",children:u.message})},u.id)),i.length===0&&n.jsx("div",{className:"text-center text-white-50",children:n.jsx("small",{children:"No mission events yet..."})})]})})]}),n.jsx(_.div,{className:"card border-0 mt-3",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"15px",border:"1px solid rgba(255, 255, 255, 0.2)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:n.jsxs("div",{className:"card-body p-3",children:[n.jsxs("h6",{className:"text-white fw-bold mb-3 d-flex align-items-center",children:[n.jsx("span",{className:"me-2",children:"ℹ️"}),"Mission Brief"]}),n.jsxs("div",{className:"text-white-50 small",children:[n.jsx("div",{className:"mb-2",children:"🎲 Roll dice & answer NASA questions"}),n.jsx("div",{className:"mb-2",children:"🚶 Move if correct, stay if wrong"}),n.jsx("div",{className:"mb-2",children:"🌍 Face events & earn eco-coins"}),n.jsx("div",{children:"🏆 First to 10 turns wins!"})]})]})})]})}function fn({turnCount:r,maxTurns:s,currentPlayer:t,players:i}){const o=i[t],c=r/(s*2)*100;return n.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 p-4",style:{zIndex:20},children:n.jsx("div",{className:"container-fluid",children:n.jsx(_.div,{className:"card border-0",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"card-body p-3",children:[n.jsxs("div",{className:"row align-items-center",children:[n.jsx("div",{className:"col-md-4",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h6",{className:"text-white fw-bold mb-2 d-flex align-items-center justify-content-center",children:[n.jsx("span",{className:"me-2",children:"🎯"}),"Mission Progress"]}),n.jsxs("div",{className:"position-relative",children:[n.jsx("div",{className:"rounded-pill",style:{height:"12px",background:"rgba(255, 255, 255, 0.1)",overflow:"hidden"},children:n.jsx(_.div,{className:"h-100 rounded-pill",style:{background:"linear-gradient(90deg, #00ff99, #38bdf8, #facc15)",boxShadow:"0 0 20px rgba(0, 255, 153, 0.5)"},initial:{width:0},animate:{width:`${c}%`},transition:{duration:.8,ease:"easeOut"}})}),n.jsxs("div",{className:"d-flex justify-content-between mt-2",children:[n.jsxs("small",{className:"text-white-50",children:["Turn ",Math.ceil(r/2)," of ",s]}),n.jsxs("small",{className:"text-white-50",children:["Round ",r]})]})]})]})}),n.jsx("div",{className:"col-md-4",children:n.jsxs("div",{className:"text-center",children:[n.jsxs(_.div,{className:"d-flex align-items-center justify-content-center mb-2",animate:{scale:[1,1.05,1],filter:"brightness(1.2)"},transition:{duration:2,repeat:1/0},children:[n.jsx("div",{className:"rounded-circle me-2 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",background:`linear-gradient(45deg, ${o.color}, rgba(255,255,255,0.2))`,fontSize:"1.2rem"},children:t==="player1"?"👩‍🌾":"🧑‍🚀"}),n.jsxs("div",{children:[n.jsxs("h6",{className:"text-white fw-bold mb-0",children:[o.name,"'s Turn"]}),n.jsx("small",{className:"text-white-50",children:"Ready to roll"})]})]}),n.jsxs(_.div,{className:"d-flex align-items-center justify-content-center",animate:{color:["#00ff99","#38bdf8","#facc15","#00ff99"]},transition:{duration:3,repeat:1/0},children:[n.jsx("span",{className:"me-2",children:"🎲"}),n.jsx("span",{className:"fw-bold",children:"Mission Active"})]})]})}),n.jsx("div",{className:"col-md-4",children:n.jsxs("div",{className:"row g-2",children:[n.jsx("div",{className:"col-6",children:n.jsxs("div",{className:"rounded p-2 text-center",style:{background:"rgba(0, 255, 153, 0.1)"},children:[n.jsx("div",{className:"text-success fw-bold fs-6",children:i.player1.ecoCoins}),n.jsx("small",{className:"text-white-50",children:i.player1.name})]})}),n.jsx("div",{className:"col-6",children:n.jsxs("div",{className:"rounded p-2 text-center",style:{background:"rgba(56, 189, 248, 0.1)"},children:[n.jsx("div",{className:"text-info fw-bold fs-6",children:i.player2.ecoCoins}),n.jsx("small",{className:"text-white-50",children:i.player2.name})]})})]})})]}),n.jsx("div",{className:"row mt-3",children:n.jsx("div",{className:"col-12",children:n.jsx("div",{className:"d-flex justify-content-center",children:n.jsxs(_.div,{className:"d-flex align-items-center",animate:{x:[0,10,0],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[n.jsx("div",{className:"me-2",children:n.jsx(_.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},style:{fontSize:"1rem"},children:"🛰️"})}),n.jsx("span",{className:"text-white-50 small",children:"NASA satellite monitoring active"})]})})})})]})})})})}function pn({event:r,onClose:s,playerName:t}){if(!r)return null;const i=r.effect>0,o=i?"text-green-600":"text-red-600",c=i?"💰":"💸",u=i?"from-green-100 to-emerald-100":"from-red-100 to-pink-100";return n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",duration:.5},className:`bg-gradient-to-br ${u} rounded-3xl shadow-2xl border-4 border-white/50 p-8 max-w-md w-full text-center`,children:[n.jsx(_.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-6xl mb-4",children:r.icon}),n.jsx(_.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-gray-800 mb-3",children:r.title}),n.jsxs(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-lg text-gray-600 mb-4",children:[n.jsx("span",{className:"font-semibold",children:t})," encountered:"]}),n.jsx(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-lg text-gray-700 mb-6 leading-relaxed",children:r.message}),n.jsxs(_.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6,type:"spring",stiffness:200},className:"inline-flex items-center space-x-2 px-6 py-3 rounded-full bg-white/80 shadow-lg mb-6",children:[n.jsx("span",{className:"text-2xl",children:c}),n.jsxs("span",{className:`text-xl font-bold ${o}`,children:[i?"+":"",r.effect," eco-coins"]})]}),n.jsx(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"bg-white/60 rounded-xl p-4 mb-6 text-sm text-gray-700",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-lg",children:"🛰️"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-gray-800 mb-1",children:"NASA Fact:"}),n.jsx("div",{children:r.fact})]})]})}),n.jsx(_.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},onClick:s,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95",children:"Continue Game 🚀"}),i&&n.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(6)].map((g,p)=>n.jsx(_.div,{initial:{x:"50%",y:"50%",scale:0,opacity:1},animate:{x:`${50+(Math.random()-.5)*200}%`,y:`${50+(Math.random()-.5)*200}%`,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:2,delay:p*.2,repeat:1/0,repeatDelay:3},className:"absolute text-2xl",children:"✨"},p))})]})})}function mn({question:r,onAnswer:s,playerName:t}){const[i,o]=y.useState(null),[c,u]=y.useState(!1),g=x=>{o(x),u(!0),setTimeout(()=>{s(x===r.answer)},3e3)},p=i===r.answer;return n.jsx(_.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0,0,0,0.7)",zIndex:9999},children:n.jsxs(_.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:"card shadow-lg border-0",style:{maxWidth:"600px",width:"90%"},children:[n.jsxs("div",{className:`card-header text-center py-4 ${p!==null?p?"bg-success":"bg-info":"bg-primary"} text-white`,children:[n.jsxs("h2",{className:"card-title mb-0",children:[n.jsx("i",{className:"fas fa-rocket me-2"}),"NASA Knowledge Challenge"]}),n.jsxs("p",{className:"mb-0 mt-2",children:[t,"'s Turn"]})]}),n.jsxs("div",{className:"card-body p-5",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("i",{className:"fas fa-satellite-dish text-primary",style:{fontSize:"3rem"}})}),n.jsx("h4",{className:"card-text text-center mb-3 fw-bold",children:r.question}),n.jsx("div",{className:"text-center mb-4",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("i",{className:"fas fa-info-circle me-1"}),"Source: ",r.source]})}),c?n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[n.jsxs("div",{className:`alert ${p?"alert-success":"alert-danger"} d-flex align-items-center justify-content-center mb-4`,children:[n.jsx("i",{className:`fas ${p?"fa-check-circle":"fa-times-circle"} me-2`,style:{fontSize:"2rem"}}),n.jsx("h4",{className:"mb-0",children:p?"Correct!":"Incorrect!"})]}),n.jsxs("div",{className:"alert alert-info",children:[n.jsxs("h6",{className:"alert-heading",children:[n.jsx("i",{className:"fas fa-lightbulb me-2"}),"Explanation:"]}),n.jsx("p",{className:"mb-0",children:r.explanation})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"spinner-border text-primary me-2",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})}),n.jsx("span",{className:"text-muted",children:p?"Moving forward...":"Staying in place..."})]})]}):n.jsxs("div",{className:"row g-3",children:[n.jsx("div",{className:"col-6",children:n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(!0),className:"btn btn-success btn-lg w-100 py-4",style:{fontSize:"1.2rem"},children:[n.jsx("i",{className:"fas fa-check me-2"}),"TRUE"]})}),n.jsx("div",{className:"col-6",children:n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(!1),className:"btn btn-danger btn-lg w-100 py-4",style:{fontSize:"1.2rem"},children:[n.jsx("i",{className:"fas fa-times me-2"}),"FALSE"]})})]})]})]})})}function hn({challenge:r,onComplete:s,playerName:t,isSpecial:i=!1}){const o=r.type==="bonus",c=r.type==="challenge",u=r.type==="special",g=()=>{s(r)},p=()=>o?"border-success bg-success-subtle":c?"border-danger bg-danger-subtle":u?"border-warning bg-warning-subtle":"border-primary bg-primary-subtle",x=()=>o?"bg-success text-white":c?"bg-danger text-white":u?"bg-warning text-dark":"bg-primary text-white";return n.jsx(_.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0,0,0,0.7)",zIndex:9999},children:n.jsxs(_.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:`card shadow-lg border-3 ${p()}`,style:{maxWidth:"600px",width:"90%"},children:[n.jsxs("div",{className:`card-header text-center py-4 ${x()}`,children:[n.jsxs("h2",{className:"card-title mb-2",children:[n.jsx("span",{className:"me-2",style:{fontSize:"2rem"},children:r.icon}),r.title]}),n.jsxs("p",{className:"mb-0 fw-bold",children:[t,"'s Challenge"]})]}),n.jsxs("div",{className:"card-body p-5 text-center",children:[n.jsx("div",{className:"mb-4",children:n.jsx("span",{className:"display-1",children:r.icon})}),n.jsx("h4",{className:"card-text mb-4 fw-bold text-dark",children:r.description}),n.jsxs("div",{className:"alert alert-info mb-4",children:[n.jsxs("h6",{className:"alert-heading",children:[n.jsx("i",{className:"fas fa-info-circle me-2"}),"Challenge Details:"]}),n.jsx("p",{className:"mb-0",children:r.message})]}),u&&r.specialQuestion&&n.jsxs("div",{className:"alert alert-warning mb-4",children:[n.jsxs("h6",{className:"alert-heading",children:[n.jsx("i",{className:"fas fa-question-circle me-2"}),"Special Question:"]}),n.jsx("p",{className:"mb-3 fw-bold",children:r.specialQuestion}),n.jsxs("div",{className:"row g-2",children:[n.jsx("div",{className:"col-6",children:n.jsxs("button",{className:"btn btn-success w-100",onClick:()=>g(),children:[n.jsx("i",{className:"fas fa-check me-2"}),"TRUE"]})}),n.jsx("div",{className:"col-6",children:n.jsxs("button",{className:"btn btn-danger w-100",onClick:()=>g(),children:[n.jsx("i",{className:"fas fa-times me-2"}),"FALSE"]})})]})]}),!u&&n.jsxs("div",{className:`alert ${o?"alert-success":"alert-danger"} mb-4`,children:[n.jsxs("h6",{className:"alert-heading",children:[n.jsx("i",{className:`fas ${o?"fa-gift":"fa-exclamation-triangle"} me-2`}),o?"Reward":"Penalty",":"]}),n.jsxs("p",{className:"mb-0 fw-bold fs-5",children:[r.reward>0?"+":"",r.reward," eco-coins"]})]}),!u&&n.jsxs(_.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},onClick:g,className:`btn btn-lg px-5 py-3 fw-bold ${o?"btn-success":"btn-danger"}`,style:{fontSize:"1.2rem"},children:[n.jsx("i",{className:`fas ${o?"fa-gift":"fa-exclamation-triangle"} me-2`}),o?"Claim Reward!":"Accept Penalty"]}),o&&n.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 overflow-hidden",style:{pointerEvents:"none"},children:[...Array(8)].map((v,e)=>n.jsx(_.div,{initial:{x:"50%",y:"50%",scale:0,opacity:1},animate:{x:`${50+(Math.random()-.5)*300}%`,y:`${50+(Math.random()-.5)*300}%`,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:2,delay:e*.1,repeat:1/0,repeatDelay:4},className:"position-absolute text-2xl",children:"✨"},e))})]})]})})}const xn=[{id:1,type:"bonus",title:"🚀 NASA Scientist Bonus",description:"You've been selected for a special NASA research project!",condition:"high_score",trigger:150,reward:50,message:"Your agricultural knowledge impressed NASA scientists!",icon:"🧑‍🔬"},{id:2,type:"bonus",title:"🌍 Environmental Hero",description:"Your sustainable farming practices caught NASA's attention!",condition:"consecutive_correct",trigger:3,reward:30,message:"You answered 3 NASA questions correctly in a row!",icon:"🌱"},{id:3,type:"bonus",title:"🛰️ Satellite Launch",description:"NASA launched a new agricultural monitoring satellite!",condition:"turn_number",trigger:5,reward:25,message:"Every player gets a bonus from the new satellite data!",icon:"🚀"},{id:4,type:"challenge",title:"🌪️ Space Storm",description:"A solar storm is affecting satellite communications!",condition:"low_score",trigger:50,reward:-20,message:"Satellite data is unreliable due to space weather!",icon:"⚡"},{id:5,type:"challenge",title:"🐛 Crop Pest Outbreak",description:"An unexpected pest outbreak threatens your crops!",condition:"random",trigger:.1,reward:-15,message:"NASA detected a pest infestation in your region!",icon:"🐛"},{id:6,type:"special",title:"🌙 Lunar Eclipse Challenge",description:"A lunar eclipse is affecting Earth observation satellites!",condition:"special_event",trigger:"eclipse",reward:0,message:"Answer this special question to avoid penalties!",icon:"🌙",specialQuestion:"During a lunar eclipse, satellites can still monitor Earth's surface effectively."},{id:7,type:"bonus",title:"🌟 Stellar Performance",description:"Your farming strategy is out of this world!",condition:"high_efficiency",trigger:80,reward:40,message:"You've achieved 80% accuracy in NASA questions!",icon:"⭐"},{id:8,type:"challenge",title:"☄️ Asteroid Alert",description:"An asteroid near Earth is causing satellite disruptions!",condition:"random",trigger:.05,reward:-25,message:"Space debris is affecting satellite operations!",icon:"☄️"},{id:9,type:"special",title:"🔬 Research Opportunity",description:"NASA offers you a chance to participate in research!",condition:"exact_position",trigger:6,reward:35,message:"You landed on the perfect research tile!",icon:"🔬"},{id:10,type:"bonus",title:"🌊 Ocean Monitoring Bonus",description:"NASA's ocean satellites detected favorable conditions!",condition:"turn_number",trigger:8,reward:20,message:"Ocean data shows excellent growing conditions!",icon:"🌊"}],gn=(r,s)=>{const t=r.players[s],i=[];return xn.forEach(o=>{let c=!1;switch(o.condition){case"high_score":c=t.ecoCoins>=o.trigger;break;case"low_score":c=t.ecoCoins<=o.trigger;break;case"consecutive_correct":c=r.consecutiveCorrect>=o.trigger;break;case"turn_number":c=r.turnCount>=o.trigger;break;case"high_efficiency":c=(r.totalQuestions>0?r.totalCorrectAnswers/r.totalQuestions*100:0)>=o.trigger;break;case"exact_position":c=t.position===o.trigger;break;case"random":c=Math.random()<o.trigger;break;case"special_event":c=Math.random()<.1;break;default:c=!1}c&&i.push(o)}),i.length>0?i[Math.floor(Math.random()*i.length)]:null},yn=(r,s=!0)=>r.type==="special"?s?20:-10:r.reward,_n=[{id:1,title:"Drought Detected",effect:-20,message:"NASA SMAP shows low soil moisture. Crops suffer!",fact:"NASA's SMAP satellite measures soil moisture globally to predict drought risk.",icon:"🌵"},{id:2,title:"Perfect Rainfall",effect:15,message:"Moderate rain improves soil moisture. Great job!",fact:"NASA's GPM satellite tracks precipitation patterns to help farmers plan irrigation.",icon:"🌧️"},{id:3,title:"Extreme Heat",effect:-10,message:"Temperature exceeds 35°C. Your crops wilt slightly.",fact:"NASA's Landsat satellites monitor surface temperature to track heat stress in crops.",icon:"☀️"},{id:4,title:"Vegetation Boost",effect:25,message:"NDVI levels are high — crops thriving!",fact:"NASA uses NDVI (Normalized Difference Vegetation Index) to measure plant health from space.",icon:"🌱"},{id:5,title:"Flood Warning",effect:-15,message:"NASA Flood Pathfinder shows excess water in fields.",fact:"NASA's Flood Pathfinder uses satellite data to predict and monitor flooding events.",icon:"🌊"},{id:6,title:"Pest Alert",effect:-12,message:"Satellite thermal imaging detects pest activity!",fact:"NASA scientists use thermal imaging to detect pest infestations before they become visible.",icon:"🐛"},{id:7,title:"Frost Warning",effect:-18,message:"MODIS satellite detects frost formation!",fact:"NASA's MODIS satellite can detect frost formation in real-time from space.",icon:"❄️"},{id:8,title:"Wind Damage",effect:-8,message:"High winds detected by QuikSCAT satellite!",fact:"NASA's QuikSCAT satellite measures wind speed to help predict storm damage.",icon:"💨"},{id:9,title:"Pollination Success",effect:20,message:"Bee activity is optimal for crop pollination!",fact:"NASA studies bee populations from space to understand pollination patterns.",icon:"🐝"},{id:10,title:"Harvest Time",effect:30,message:"SMAP data shows perfect harvest conditions!",fact:"NASA's SMAP satellite determines optimal harvest timing by measuring soil moisture.",icon:"🌾"},{id:11,title:"Nutrient Deficiency",effect:-14,message:"Hyperspectral imaging shows low nitrogen levels.",fact:"NASA uses hyperspectral imaging to detect nutrient deficiencies in crops from space.",icon:"🌿"},{id:12,title:"Carbon Sequestration",effect:22,message:"Your farm is helping capture carbon dioxide!",fact:"NASA's OCO-2 satellite measures how much CO2 plants absorb from the atmosphere.",icon:"🌍"}],Ne=[{source:"NASA EarthData - Agriculture Production",question:"NASA uses soil moisture data to support agricultural production decisions.",answer:!0},{source:"NASA EarthData - Agriculture Production",question:"NASA does not provide rainfall or climate data for agricultural research.",answer:!1},{source:"NASA EarthData - SMAP Mission",question:"The SMAP satellite measures surface soil moisture from space.",answer:!0},{source:"NASA Acres",question:"NASA Acres only operates outside the United States.",answer:!1},{source:"NASA Acres - The Science Behind NASA Acres",question:"High-resolution satellite images can see cars and people in farm fields.",answer:!1},{source:"NASA EarthData - Remote Sensing",question:"Active sensors such as radar can see through clouds to measure soil conditions.",answer:!0},{source:"NASA EarthData - Remote Sensing",question:"Passive sensors can observe all weather conditions without interference.",answer:!1},{source:"NASA Earth Observatory - Food and Agriculture",question:"Satellite imagery helps scientists monitor crop health and land productivity.",answer:!0},{source:"NASA GFSAD - Measuring the World's Croplands",question:"The GFSAD dataset maps cropland areas with 30-meter resolution.",answer:!0},{source:"FAO EOSTAT Program",question:"FAO's EOSTAT project uses Earth observation data to create land cover maps.",answer:!0},{source:"FAO EOSTAT Program",question:"FAO's EOSTAT project does not use any satellite data.",answer:!1},{source:"UNEP Climate and Environment",question:"Extreme heat events can negatively affect farm productivity.",answer:!0},{source:"World Bank Climate Data",question:"Changes in rainfall patterns can influence crop yields worldwide.",answer:!0},{source:"ESA Earth Observation for Society",question:"Earth observation satellites are used to monitor agricultural changes on a global scale.",answer:!0},{source:"UN SDGs Portal",question:"Zero Hunger (SDG 2) aims to eliminate food waste and end all forms of malnutrition.",answer:!0},{source:"UN SDGs Portal",question:"Climate Action (SDG 13) focuses only on building new farms, not on reducing emissions.",answer:!1},{source:"NASA Harvest",question:"NASA Harvest works with global partners to improve food security using satellite data.",answer:!0},{source:"NASA Harvest",question:"NASA Harvest focuses only on economic analysis and not on environmental factors.",answer:!1},{source:"FAO - Sustainable Agriculture",question:"Crop rotation helps maintain soil health and supports sustainable agriculture.",answer:!0},{source:"UNEP - Climate Education",question:"Reducing water waste in agriculture supports SDG 13: Climate Action.",answer:!0},{source:"NASA EarthData - MODIS",question:"MODIS satellites can only capture images during daytime hours.",answer:!1},{source:"NASA SMAP Mission",question:"SMAP data is only available to government agencies, not farmers.",answer:!1},{source:"FAO - Crop Monitoring",question:"Satellite data can predict crop yields with 100% accuracy.",answer:!1},{source:"UNEP - Water Resources",question:"Irrigation systems have no impact on water conservation efforts.",answer:!1},{source:"World Bank - Agricultural Policy",question:"Small-scale farmers cannot benefit from precision agriculture technologies.",answer:!1},{source:"ESA - Sentinel Program",question:"Sentinel satellites can monitor deforestation in real-time.",answer:!0},{source:"NASA - Climate Change",question:"Rising temperatures always decrease agricultural productivity.",answer:!1},{source:"FAO - Food Security",question:"Vertical farming can only be implemented in urban areas.",answer:!1},{source:"UN SDGs - Life on Land",question:"Sustainable farming practices can increase biodiversity.",answer:!0},{source:"NASA - Landsat Program",question:"Landsat satellites have been operating for over 50 years.",answer:!0}];function vn(){const r=pe(),{players:s,currentPlayer:t,gameStarted:i,gameEnded:o,turnCount:c,maxTurns:u,showEventPopup:g,currentEvent:p,diceRoll:x,isRolling:v,showQuestion:e,currentQuestion:a,showChallenge:l,currentChallenge:d,consecutiveCorrect:h,totalCorrectAnswers:f,totalQuestions:m,rollDice:b,movePlayer:w,updateEcoCoins:j,nextTurn:S,showEvent:C,hideEvent:$,showQuestionCard:W,hideQuestion:A,showChallengeCard:z,hideChallenge:Z,updateQuestionStats:ae,getWinner:re}=me(),[R,Q]=y.useState(null),[$e,G]=y.useState([]);y.useEffect(()=>{i||r("/")},[i,r]),y.useEffect(()=>{o&&r("/endgame")},[o,r]);const ie=_n.slice(0,12),Ge=()=>{const O=b(),D=s[t];G(E=>[...E,{id:Date.now(),message:`${D.name} rolled a ${O}!`,type:"roll"}]),setTimeout(()=>{const E=Ne[Math.floor(Math.random()*Ne.length)];W(E)},1500)},Ve=O=>{const D=s[t],E=x;if(ae(O),O){const P=w(t,E);Q(P),G(B=>[...B,{id:Date.now(),message:`${D.name} answered correctly and moved ${E} spaces!`,type:"positive"}]),setTimeout(()=>{const B={players:s,turnCount:c,consecutiveCorrect:h,totalCorrectAnswers:f,totalQuestions:m+1},T=gn(B,t);if(T){z(T);return}const I=ie[P];I&&(j(t,I.effect),C(I),G(Qe=>[...Qe,{id:Date.now(),message:`${D.name} landed on ${I.title} (${I.effect>0?"+":""}${I.effect} coins)`,type:I.effect>0?"positive":"negative"}])),setTimeout(()=>{Q(null),S()},3e3)},1e3)}else G(P=>[...P,{id:Date.now(),message:`${D.name} answered incorrectly and stays in place!`,type:"negative"}]),setTimeout(()=>{S()},2e3);A()},qe=()=>{$()},We=(O,D=!0)=>{const E=s[t],P=yn(O,D);if(j(t,P),G(B=>[...B,{id:Date.now(),message:`${E.name} completed "${O.title}" (${P>0?"+":""}${P} coins)`,type:P>0?"positive":"negative"}]),O.type==="special"){const B=s[t].position,T=ie[B];setTimeout(()=>{T&&(j(t,T.effect),C(T),G(I=>[...I,{id:Date.now(),message:`${E.name} landed on ${T.title} (${T.effect>0?"+":""}${T.effect} coins)`,type:T.effect>0?"positive":"negative"}])),setTimeout(()=>{Q(null),S()},3e3)},1e3)}else setTimeout(()=>{S()},2e3);Z()};return i?n.jsxs("div",{className:"min-vh-100 position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #001220 0%, #012a4a 50%, #013a63 100%)"},children:[n.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:1},children:n.jsx(ln,{tiles:ie,players:s,currentPlayer:t,highlightedTile:R})}),n.jsxs("div",{className:"position-relative",style:{zIndex:10},children:[n.jsx(cn,{players:s,currentPlayer:t,turnCount:c,maxTurns:u,consecutiveCorrect:h,totalCorrectAnswers:f,totalQuestions:m}),n.jsx(un,{diceRoll:x,isRolling:v,onRoll:Ge,gameLog:$e}),n.jsx(fn,{turnCount:c,maxTurns:u,currentPlayer:t,players:s})]}),n.jsx(M,{children:e&&n.jsx(mn,{question:a,onAnswer:Ve,playerName:s[t].name})}),n.jsx(M,{children:l&&n.jsx(hn,{challenge:d,onComplete:We,playerName:s[t].name})}),n.jsx(M,{children:g&&n.jsx(pn,{event:p,onClose:qe,playerName:s[t].name})})]}):null}const Se=["NASA's Landsat program has been monitoring Earth's surface for over 50 years, providing the longest continuous record of our planet from space!","The SMAP satellite can detect soil moisture through clouds, snow, and vegetation - even at night!","NASA's MODIS satellite takes a complete picture of Earth every 1-2 days, helping track global agricultural changes.","Satellite data helps farmers reduce water usage by up to 30% through precision irrigation!","NASA's GRACE satellites can detect groundwater changes from space by measuring Earth's gravity field.","The International Space Station astronauts grow fresh vegetables in space using LED lighting and controlled environments!","NASA's Earth Observing System includes over 20 satellites monitoring different aspects of our planet's health.","Satellite imagery can detect crop diseases before they become visible to the human eye!","NASA's weather satellites can predict storms up to 7 days in advance, helping farmers protect their crops.","The average farm using NASA satellite data sees a 15% increase in crop yield and 20% reduction in fertilizer use!"],bn=()=>Se[Math.floor(Math.random()*Se.length)];function wn(){const r=pe(),{players:s,getWinner:t,resetGame:i}=me(),[o,c]=y.useState(""),[u,g]=y.useState(!1);y.useEffect(()=>{c(bn()),g(!0)},[]);const p=t(),x=s.player1,v=s.player2,e=()=>{const f=(p==="player1"?x:v).ecoCoins;return f>=200?"🌱 Eco Genius":f>=150?"🌍 Environmental Champion":f>=100?"🚀 Space Farmer":f>=50?"🌾 Crop Master":"🌱 Green Thumb"},a=()=>{const f=(p==="player1"?v:x).ecoCoins;return f>=100?"🌱 Still Learning":f>=50?"🌿 Growing Strong":f>=25?"🌾 On the Path":"🌱 Future Farmer"},l=()=>{i(),r("/")},d=()=>{r("/")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-100 via-blue-100 to-yellow-100 flex items-center justify-center p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring"},className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-white/50 p-8 max-w-4xl w-full text-center",children:[u&&n.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((h,f)=>n.jsx(_.div,{initial:{x:"50%",y:"50%",scale:0,opacity:1},animate:{x:`${50+(Math.random()-.5)*400}%`,y:`${50+(Math.random()-.5)*400}%`,scale:[0,1,0],opacity:[1,1,0]},transition:{duration:3,delay:f*.1,repeat:1/0,repeatDelay:5},className:"absolute text-3xl",children:["🎉","🌟","✨","🚀","🌱"][f%5]},f))}),n.jsx(_.h1,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-6xl font-black mb-6 bg-gradient-to-r from-green-500 via-blue-500 to-yellow-500 bg-clip-text text-transparent",children:"🏆 Game Complete! 🏆"}),n.jsx(_.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"mb-8",children:p!=="tie"?n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:["🎉 ",s[p].name," Wins!"]}),n.jsx("div",{className:"text-2xl font-bold text-green-600 mb-4",children:e()}),n.jsxs("div",{className:"text-xl text-gray-700",children:["Final Score: ",s[p].ecoCoins," eco-coins"]})]}):n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"🤝 It's a Tie!"}),n.jsxs("div",{className:"text-xl text-gray-700",children:["Both players earned ",x.ecoCoins," eco-coins!"]})]})}),n.jsxs(_.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:`p-6 rounded-2xl border-2 ${p==="player1"?"border-green-500 bg-green-50 shadow-lg":"border-gray-200 bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:x.color}}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:x.name})]}),n.jsxs("div",{className:"text-2xl font-bold text-gray-700 mb-2",children:[x.ecoCoins," eco-coins"]}),n.jsx("div",{className:`text-lg font-bold ${p==="player1"?"text-green-600":"text-gray-600"}`,children:p==="player1"?e():a()})]}),n.jsxs("div",{className:`p-6 rounded-2xl border-2 ${p==="player2"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:v.color}}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:v.name})]}),n.jsxs("div",{className:"text-2xl font-bold text-gray-700 mb-2",children:[v.ecoCoins," eco-coins"]}),n.jsx("div",{className:`text-lg font-bold ${p==="player2"?"text-blue-600":"text-gray-600"}`,children:p==="player2"?e():a()})]})]}),n.jsxs(_.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 mb-8 border-2 border-blue-200",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"🛰️"}),n.jsx("span",{children:"NASA Space Fact"})]}),n.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o})]}),n.jsxs(_.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(_.button,{onClick:l,className:"px-8 py-4 bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold text-xl rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95",whileHover:{scale:1.05},whileTap:{scale:.95},children:"🎮 Play Again!"}),n.jsx(_.button,{onClick:d,className:"px-8 py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold text-xl rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95",whileHover:{scale:1.05},whileTap:{scale:.95},children:"🏠 Back to Home"})]}),n.jsxs(_.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.3},className:"mt-8 text-sm text-gray-600",children:[n.jsx("p",{children:"Thanks for playing FARMPOLY 3D: Space Data Duel! 🌾"}),n.jsx("p",{className:"mt-1",children:"You learned about NASA's role in modern agriculture! 🚀"})]})]})})}function jn(){return n.jsx(Ut,{children:n.jsx("div",{className:"App",children:n.jsxs(qt,{children:[n.jsx(J,{path:"/",element:n.jsx(tn,{})}),n.jsx(J,{path:"/board",element:n.jsx(vn,{})}),n.jsx(J,{path:"/endgame",element:n.jsx(wn,{})})]})})})}const he=document.createElement("link");he.rel="stylesheet";he.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css";document.head.appendChild(he);ze.createRoot(document.getElementById("root")).render(n.jsx(Je.StrictMode,{children:n.jsx(jn,{})}));
